(function(e){function n(n){for(var a,o,c=n[0],u=n[1],s=n[2],d=0,m=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);i&&i(n);while(m.length)m.shift()();return l.push.apply(l,s||[]),t()}function t(){for(var e,n=0;n<l.length;n++){for(var t=l[n],a=!0,c=1;c<t.length;c++){var u=t[c];0!==r[u]&&(a=!1)}a&&(l.splice(n--,1),e=o(o.s=t[0]))}return e}var a={},r={0:0},l=[];function o(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=a,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)o.d(t,a,function(n){return e[n]}.bind(null,a));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="https://doly-dev.github.io/rc-hooks/site/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=n,c=c.slice();for(var s=0;s<c.length;s++)n(c[s]);var i=u;l.push([0,1]),t()})({"+l7L":function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=(t("5NDa"),t("5rEg")),l=t("tJVT"),o=t("q1tI"),c=t.n(o),u=t("q/Fw");n["default"]=()=>{var e=Object(o["useState"])(""),n=Object(l["a"])(e,2),t=n[0],s=n[1],i=Object(o["useState"])(),d=Object(l["a"])(i,2),m=d[0],p=d[1],f=Object(u["a"])(p,1e3),h=f.run,E=f.cancel;return c.a.createElement("div",null,c.a.createElement(r["a"],{value:t,onChange:e=>{s(e.target.value),h(e.target.value)},placeholder:"Typed value",style:{width:280}}),c.a.createElement("p",{style:{margin:"16px 0"}},c.a.createElement(a["a"],{onClick:E},"Cancel Debounce")),c.a.createElement("p",null,"value: ",t),c.a.createElement("p",null,"DebouncedValue: ",m))}},0:function(e,n,t){e.exports=t("tB8F")},"0mqg":function(e,n,t){"use strict";var a=t("k1fw"),r=t("tJVT"),l=t("PpiC"),o=t("q1tI"),c=t("sZDl"),u=e=>{var n=e.ref,t=e.threshold,a=void 0===t?100:t,r=e.ready,l=void 0!==r&&r,c=e.onLoad,u=void 0===c?()=>{}:c,s=Object(o["useCallback"])(()=>{l&&n.current.scrollHeight-n.current.scrollTop<=n.current.clientHeight+a&&u()},[l,n]);Object(o["useEffect"])(()=>n&&n.current?(n.current.addEventListener("scroll",s),()=>{n&&n.current&&n.current.removeEventListener("scroll",s)}):()=>{},[s])},s=u;function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.defaultPageSize,u=void 0===t?10:t,i=(n.threshold,n.ref),d=Object(l["a"])(n,["defaultPageSize","threshold","ref"]),m=Object(o["useState"])([]),p=Object(r["a"])(m,2),f=p[0],h=p[1],E=Object(o["useState"])(!1),g=Object(r["a"])(E,2),v=g[0],y=g[1],b=Object(o["useRef"])({current:1,pageSize:u,total:0}),k=Object(o["useRef"])({}),w=Object(c["a"])(e,Object(a["a"])(Object(a["a"])({},d),{},{autoRun:!1,onSuccess:(e,n)=>{b.current.total=e.total,1===b.current.current?h(e.data):h(n=>n.concat(e.data)),b.current.pageSize*b.current.current>=b.current.total&&y(!0),d.onSuccess&&d.onSuccess(e,n)},onError:(e,n)=>{b.current.current>1&&(b.current.current-=1),d.onError&&d.onError(e,n)}})),R=Object(o["useCallback"])(e=>{e&&(k.current=e,b.current.current=1);var n=b.current,t=n.pageSize,r=n.current;return w.run(Object(a["a"])({pageSize:t,current:r},k.current))},[]),S=Object(o["useCallback"])(()=>{w.loading&&b.current.current>1&&(b.current.current-=1),w.cancel()},[]),C=Object(o["useCallback"])(()=>{if(!w.loading&&!v)return b.current.current+=1,R()},[]),x=Object(o["useCallback"])(()=>(y(!1),S(),b.current.current=1,R()),[]);return s({ready:!w.loading&&!v,ref:i,onLoad:C}),Object(o["useEffect"])(()=>{("undefined"===typeof d.autoRun||d.autoRun)&&R()},[]),Object(a["a"])(Object(a["a"])({},w),{},{run:R,refresh:x,cancel:S,data:f,reload:x,loadMore:C,loadingMore:w.loading&&b.current.current>1,done:v,pagination:b.current})}n["a"]=i},"1+qD":function(e,n,t){"use strict";t.r(n);t("5NDa");var a=t("5rEg"),r=t("tJVT"),l=t("q1tI"),o=t.n(l),c=t("q/Fw");function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(l["useState"])(e),o=Object(r["a"])(a,2),u=o[0],s=o[1],i=Object(c["a"])(s,n,t),d=i.run;return Object(l["useEffect"])(()=>{d(e)},[e]),u}var s=u;n["default"]=()=>{var e=Object(l["useState"])(""),n=Object(r["a"])(e,2),t=n[0],c=n[1],u=s(t,500);return o.a.createElement("div",null,o.a.createElement(a["a"],{value:t,onChange:e=>c(e.target.value),placeholder:"Typed value",style:{width:280}}),o.a.createElement("p",{style:{marginTop:16}},"DebouncedValue: ",u))}},"1XkV":function(e,n,t){"use strict";t.r(n);var a=t("0Owb"),r=t("q1tI"),l=t.n(r),o=(t("B2uJ"),t("+su7"),t("qOys")),c=t.n(o),u=t("5Yjd"),s=t.n(u),i=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("kohQ")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"useclientrect"},l.a.createElement("a",{"aria-hidden":"true",href:"#useclientrect"},l.a.createElement("span",{className:"icon icon-link"})),"useClientRect"),l.a.createElement("p",null,"\u83b7\u53d6\u5143\u7d20\u7684\u5927\u5c0f\u53ca\u5176\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u4f4d\u7f6e\u7684 Hook\u3002"),l.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},l.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),l.a.createElement("h3",{id:"\u57fa\u672c\u7528\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u672c\u7528\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u7528\u6cd5")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:'import React from "react";\nimport { useClientRect } from "rc-hooks";\n\nexport default () => {\n  const [rect, ref] = useClientRect();\n\n  return (\n    <>\n      <h1 ref={ref}>Hello, world</h1>\n      {rect !== null &&\n        <p>rect value: {JSON.stringify(rect)}</p>\n      }\n    </>\n  );\n}',jsx:"import React from 'react';\nimport { useClientRect } from 'rc-hooks';\nexport default () => {\n  const [rect, ref] = useClientRect();\n  return (\n    <>\n      <h1 ref={ref}>Hello, world</h1>\n      {rect !== null && <p>rect value: {JSON.stringify(rect)}</p>}\n    </>\n  );\n};\n"}},{path:"/_demos/demo1",title:"\u57fa\u672c\u7528\u6cd5",desc:'<div class="markdown"><p>\u83b7\u53d6 h1 \u5143\u7d20\u5927\u5c0f\u53ca\u5176\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u4f4d\u7f6e\u3002</p></div>',dependencies:{"rc-hooks":"0.8.2"},files:{}}),l.a.createElement(i,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"api"},l.a.createElement("a",{"aria-hidden":"true",href:"#api"},l.a.createElement("span",{className:"icon icon-link"})),"API"),l.a.createElement(c.a,{code:"const [\n  rect: object, \n  ref: React.Ref\n] = useClientRect();\n",lang:"javascript"}),l.a.createElement("h3",{id:"result"},l.a.createElement("a",{"aria-hidden":"true",href:"#result"},l.a.createElement("span",{className:"icon icon-link"})),"Result"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"rect"),l.a.createElement("td",null,"dom \u8282\u70b9\u7684\u5c3a\u5bf8\u548c\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u4f4d\u7f6e"),l.a.createElement("td",null,l.a.createElement("code",null,"object"))),l.a.createElement("tr",null,l.a.createElement("td",null,"ref"),l.a.createElement("td",null,"\u5c06 ref \u7ed1\u5b9a dom \u8282\u70b9"),l.a.createElement("td",null,"-"))))))}},"2ppu":function(e,n,t){"use strict";t.r(n);t("T2oS");var a=t("W9HT"),r=(t("+L6B"),t("2/Rp")),l=t("q1tI"),o=t.n(l),c=t("sZDl");function u(){return new Promise(e=>{setTimeout(()=>{e((new Date).getTime())},100)})}n["default"]=()=>{var e=Object(c["a"])(u),n=Object(c["a"])(u,{loadingDelay:200}),t=()=>{e.run(),n.run()};return o.a.createElement("div",null,o.a.createElement("p",null,"loadingDelay can set delay loading, which can effectively prevent loading from flickering."),o.a.createElement(r["a"],{onClick:t},"run"),o.a.createElement("div",{style:{margin:"24px 0",width:300}},o.a.createElement(a["a"],{spinning:e.loading},"Double Count: ",e.data)),o.a.createElement("div",null,o.a.createElement(a["a"],{spinning:n.loading},"Double Count: ",n.data)))}},"4APQ":function(e,n,t){"use strict";t.r(n);var a=t("0Owb"),r=t("q1tI"),l=t.n(r),o=(t("B2uJ"),t("+su7"),t("qOys")),c=t.n(o),u=t("5Yjd"),s=t.n(u),i=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("fCDR")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"useupdateeffect"},l.a.createElement("a",{"aria-hidden":"true",href:"#useupdateeffect"},l.a.createElement("span",{className:"icon icon-link"})),"useUpdateEffect"),l.a.createElement("p",null,"\u53ea\u5728\u4f9d\u8d56\u66f4\u65b0\u65f6\u6267\u884c\u7684 useEffect Hook\u3002"),l.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},l.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),l.a.createElement("h3",{id:"\u57fa\u672c\u7528\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u672c\u7528\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u7528\u6cd5")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import { Button } from 'antd';\nimport React, { useLayoutEffect, useState } from 'react';\nimport { useUpdateEffect } from 'rc-hooks';\n\nexport default () => {\n  const [count, setCount] = useState(0);\n  const [effectCount, setEffectCount] = useState(0);\n  const [updateEffectCount, setUpdateEffectCount] = useState(0);\n\n  useLayoutEffect(() => {\n    setEffectCount(c => c + 1);\n  }, [count]);\n\n  useUpdateEffect(() => {\n    setUpdateEffectCount(c => c + 1);\n    return () => {\n      // do something\n    };\n  }, [count]); // you can include deps array if necessary\n\n  return (\n    <div>\n      <p>effectCount: {effectCount}</p>\n      <p>updateEffectCount: {updateEffectCount}</p>\n      <p>\n        <Button type=\"primary\" onClick={() => setCount(c => c + 1)}>\n          reRender\n        </Button>\n      </p>\n    </div>\n  );\n};\n",jsx:"import { Button } from 'antd';\nimport React, { useLayoutEffect, useState } from 'react';\nimport { useUpdateEffect } from 'rc-hooks';\nexport default () => {\n  const [count, setCount] = useState(0);\n  const [effectCount, setEffectCount] = useState(0);\n  const [updateEffectCount, setUpdateEffectCount] = useState(0);\n  useLayoutEffect(() => {\n    setEffectCount((c) => c + 1);\n  }, [count]);\n  useUpdateEffect(() => {\n    setUpdateEffectCount((c) => c + 1);\n    return () => {\n      // do something\n    };\n  }, [count]); // you can include deps array if necessary\n\n  return (\n    <div>\n      <p>effectCount: {effectCount}</p>\n      <p>updateEffectCount: {updateEffectCount}</p>\n      <p>\n        <Button type=\"primary\" onClick={() => setCount((c) => c + 1)}>\n          reRender\n        </Button>\n      </p>\n    </div>\n  );\n};\n"}},{path:"/_demos/demo1-9",title:"\u57fa\u672c\u7528\u6cd5",desc:'<div class="markdown"><p>\u4f7f\u7528\u4e0a\u4e0e useEffect \u5b8c\u5168\u76f8\u540c\uff0c\u53ea\u662f\u5b83\u5ffd\u7565\u4e86\u9996\u6b21\u6e32\u67d3\uff0c\u4e14\u53ea\u5728\u4f9d\u8d56\u9879\u66f4\u65b0\u65f6\u8fd0\u884c\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2"},files:{}}),l.a.createElement(i,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"api"},l.a.createElement("a",{"aria-hidden":"true",href:"#api"},l.a.createElement("span",{className:"icon icon-link"})),"API"),l.a.createElement(c.a,{code:"useUpdateEffect(fn: () => void, deps?: any[]);\n",lang:"javascript"}),l.a.createElement("h3",{id:"params"},l.a.createElement("a",{"aria-hidden":"true",href:"#params"},l.a.createElement("span",{className:"icon icon-link"})),"Params"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"),l.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"fn"),l.a.createElement("td",null,"\u53ef\u6267\u884c\u51fd\u6570"),l.a.createElement("td",null,l.a.createElement("code",null,"function")),l.a.createElement("td",null,"-")),l.a.createElement("tr",null,l.a.createElement("td",null,"deps"),l.a.createElement("td",null,"\u53ef\u9009\u9879\uff0c\u4f20\u5165\u4f9d\u8d56\u53d8\u5316\u7684\u5bf9\u8c61"),l.a.createElement("td",null,l.a.createElement("code",null,"any[]")),l.a.createElement("td",null))))))}},"4lX7":function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=t("tJVT"),l=(t("miYZ"),t("tsqr")),o=t("q1tI"),c=t.n(o),u=t("hmsE"),s=e=>{var n=Object(u["a"])(e);Object(o["useEffect"])(()=>{n&&"function"===typeof n&&n()},[])},i=s,d=()=>(i(()=>{l["a"].info("mount")}),c.a.createElement("div",null,"Hello World"));n["default"]=()=>{var e=Object(o["useState"])(!1),n=Object(r["a"])(e,2),t=n[0],l=n[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(a["a"],{onClick:()=>l(e=>!e)},t?"unmount":"mount"),t&&c.a.createElement(d,null))}},"5fcZ":function(e,n,t){"use strict";t.r(n);var a=t("WmNS"),r=t.n(a),l=t("tJVT"),o=t("9og8"),c=t("sZDl"),u=t("q1tI"),s=t.n(u),i=e=>{switch(e){case"1":return"Tsinghua University";case"2":return"Beijing University";case"3":return"Zhejiang University";default:return""}};function d(e){return m.apply(this,arguments)}function m(){return m=Object(o["a"])(r.a.mark((function e(n){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(e=>{setTimeout(()=>{e(i(n))},1e3)}));case 1:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}n["default"]=()=>{var e=Object(u["useState"])("1"),n=Object(l["a"])(e,2),t=n[0],a=n[1],r=Object(c["a"])(()=>d(t),{refreshDeps:[t]}),o=r.data,i=r.loading;return s.a.createElement("div",null,s.a.createElement("select",{onChange:e=>a(e.target.value),value:t,style:{marginBottom:16,width:120}},s.a.createElement("option",{value:"1"},"user 1"),s.a.createElement("option",{value:"2"},"user 2"),s.a.createElement("option",{value:"3"},"user 3")),s.a.createElement("p",null,"School: ",i?"loading":o))}},"9kvl":function(e,n,t){"use strict";var a=t("FfOG");t.d(n,"a",(function(){return a["b"]}));var r=t("bCY9");t.d(n,"b",(function(){return r["a"]}))},"C/Ph":function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=(t("miYZ"),t("tsqr")),l=t("q1tI"),o=t.n(l),c=t("sZDl");function u(e){return console.log(e),new Promise(e=>{setTimeout(()=>{e({success:!0})},1e3)})}function s(e){var n=e.id,t=e.username,l=Object(c["a"])(u,{autoRun:!1,onSuccess:e=>{e.success&&r["a"].success("Delete user ".concat(t))}}),s=l.run,i=l.loading;return o.a.createElement(a["a"],{loading:i,onClick:()=>{s(n)}},"delete ",t)}n["default"]=()=>{var e=[{id:"1",username:"A"},{id:"2",username:"B"},{id:"3",username:"C"}];return o.a.createElement("div",null,o.a.createElement("div",null,"You can click all buttons, each request has its own status."),o.a.createElement("ul",null,e.map(e=>o.a.createElement("li",{key:e.id,style:{marginTop:8}},o.a.createElement(s,e)))))}},CZNa:function(e,n,t){"use strict";var a=t("q1tI"),r=t("hKI/"),l=t.n(r),o=()=>{};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(a["useCallback"])(l()(e,n,t),[]);return Object(a["useEffect"])(()=>r.cancel,[]),{run:r,cancel:r.cancel}}n["a"]=c},"F/lo":function(e,n,t){"use strict";t.r(n);t("DjyN");var a=t("NUBc"),r=t("0Owb"),l=(t("Mwp2"),t("VXEj")),o=t("q1tI"),c=t.n(o),u=t("q9+C"),s=t("y7Vn");n["default"]=()=>{var e=Object(u["a"])(s["a"]),n=e.data,t=e.loading,o=e.pagination,i=e.onTableChange;return c.a.createElement("div",null,c.a.createElement(l["a"],{dataSource:n||[],loading:t,renderItem:e=>c.a.createElement(l["a"].Item,null,e.name," - ",e.email)}),c.a.createElement(a["a"],Object(r["a"])({},o,{onChange:(e,n)=>i({current:e,pageSize:n}),onShowSizeChange:(e,n)=>i({current:e,pageSize:n}),style:{marginTop:16,textAlign:"right"}})))}},F4wY:function(e,n,t){"use strict";t.r(n);t("T2oS");var a=t("W9HT"),r=(t("+L6B"),t("2/Rp")),l=t("tJVT"),o=t("q1tI"),c=t.n(o),u=t("sZDl"),s=t("luuv"),i=t.n(s);function d(){return new Promise(e=>{setTimeout(()=>{e({data:i.a.mock("@paragraph"),time:(new Date).getTime()})},1e3)})}n["default"]=()=>{var e=Object(o["useState"])(!1),n=Object(l["a"])(e,2),t=n[0],a=n[1],s=Object(u["a"])(d,{cacheKey:"article",autoRun:!1}),i=s.run;return c.a.createElement("div",null,c.a.createElement("p",null,"When the mouse hovers over the button, the article data is preloaded."),c.a.createElement("p",null,c.a.createElement(r["a"],{onMouseEnter:()=>i(),onClick:()=>a(e=>!e)},"show/hidden")),t&&c.a.createElement(m,null))};var m=()=>{var e=Object(u["a"])(d,{cacheKey:"article"}),n=e.data,t=e.loading;return c.a.createElement(a["a"],{spinning:!n&&t},c.a.createElement("p",null,"Latest request time: ",null===n||void 0===n?void 0:n.time),c.a.createElement("p",null,null===n||void 0===n?void 0:n.data))}},FSPR:function(e,n,t){"use strict";t.r(n);t("g9YV");var a=t("wCAj"),r=t("0Owb"),l=(t("+L6B"),t("2/Rp")),o=(t("OaEy"),t("2fM7")),c=(t("5NDa"),t("5rEg")),u=(t("y8nQ"),t("Vl3Y")),s=t("tJVT"),i=t("q1tI"),d=t.n(i),m=t("q9+C"),p=t("y7Vn"),f={labelCol:{span:4},wrapperCol:{span:14}},h={wrapperCol:{offset:4,span:14}},E=[{title:"name",dataIndex:"name"},{title:"email",dataIndex:"email"},{title:"id",dataIndex:"id"},{title:"gender",dataIndex:"gender"}];n["default"]=()=>{var e=Object(m["a"])(p["a"],{autoRun:!1}),n=e.run,t=e.refresh,g=e.data,v=void 0===g?[]:g,y=e.loading,b=e.pagination,k=e.onTableChange,w=u["a"].useForm(),R=Object(s["a"])(w,1),S=R[0],C=Object(i["useCallback"])(()=>{S.resetFields(),S.submit()},[]);return Object(i["useEffect"])(()=>{S.submit()},[]),d.a.createElement("div",null,d.a.createElement(u["a"],Object(r["a"])({},f,{form:S,initialValues:{},onFinish:n}),d.a.createElement(u["a"].Item,{label:"name",name:"name"},d.a.createElement(c["a"],{placeholder:"\u8bf7\u8f93\u5165"})),d.a.createElement(u["a"].Item,{label:"gender",name:"gender"},d.a.createElement(o["a"],{placeholder:"\u8bf7\u9009\u62e9"},d.a.createElement(o["a"].Option,{value:"male"},"male"),d.a.createElement(o["a"].Option,{value:"female"},"female"))),d.a.createElement(u["a"].Item,h,d.a.createElement(l["a"],{type:"primary",htmlType:"submit",loading:y},"\u67e5\u8be2"),d.a.createElement(l["a"],{onClick:C,style:{marginLeft:16},disabled:y},"\u91cd\u7f6e"),d.a.createElement(l["a"],{onClick:t,style:{marginLeft:16},disabled:y},"\u5237\u65b0"))),d.a.createElement(a["a"],{dataSource:v,columns:E,pagination:b,onChange:k,loading:y,rowKey:"id",bordered:!0}))}},Fas3:function(e,n,t){"use strict";t.r(n);var a=t("0Owb"),r=t("q1tI"),l=t.n(r),o=(t("B2uJ"),t("+su7"),t("qOys")),c=t.n(o),u=t("5Yjd"),s=t.n(u),i=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("ffFi")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"usethrottle"},l.a.createElement("a",{"aria-hidden":"true",href:"#usethrottle"},l.a.createElement("span",{className:"icon icon-link"})),"useThrottle"),l.a.createElement("p",null,"\u7528\u6765\u5904\u7406\u8282\u6d41\u503c\u7684 Hook\u3002"),l.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},l.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),l.a.createElement("h3",{id:"\u57fa\u672c\u7528\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u672c\u7528\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u7528\u6cd5")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import { Input } from 'antd';\nimport React, { useState } from 'react';\nimport { useThrottle } from 'rc-hooks';\n\nexport default () => {\n  const [value, setValue] = useState('');\n  const throttledValue = useThrottle(value, 500);\n\n  return (\n    <div>\n      <Input\n        value={value}\n        onChange={e => setValue(e.target.value)}\n        placeholder=\"Typed value\"\n        style={{ width: 280 }}\n      />\n      <p style={{ marginTop: 16 }}>throttledValue: {throttledValue}</p>\n    </div>\n  );\n};",jsx:"import { Input } from 'antd';\nimport React, { useState } from 'react';\nimport { useThrottle } from 'rc-hooks';\nexport default () => {\n  const [value, setValue] = useState('');\n  const throttledValue = useThrottle(value, 500);\n  return (\n    <div>\n      <Input\n        value={value}\n        onChange={(e) => setValue(e.target.value)}\n        placeholder=\"Typed value\"\n        style={{\n          width: 280,\n        }}\n      />\n      <p\n        style={{\n          marginTop: 16,\n        }}\n      >\n        throttledValue: {throttledValue}\n      </p>\n    </div>\n  );\n};\n"}},{path:"/_demos/demo1-5",title:"\u57fa\u672c\u7528\u6cd5",desc:'<div class="markdown"><p>throttledValue \u6bcf\u9694 500ms \u53d8\u5316\u4e00\u6b21\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2"},files:{}}),l.a.createElement(i,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"api"},l.a.createElement("a",{"aria-hidden":"true",href:"#api"},l.a.createElement("span",{className:"icon icon-link"})),"API"),l.a.createElement(c.a,{code:"const throttledValue = useThrottle(\n  value: any, \n  wait?: number, \n  options?: object\n);\n",lang:"javascript"}),l.a.createElement("h3",{id:"params"},l.a.createElement("a",{"aria-hidden":"true",href:"#params"},l.a.createElement("span",{className:"icon icon-link"})),"Params"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"),l.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"value"),l.a.createElement("td",null,"\u9700\u8981\u9632\u6296\u7684\u503c"),l.a.createElement("td",null,l.a.createElement("code",null,"any")),l.a.createElement("td",null,"-")),l.a.createElement("tr",null,l.a.createElement("td",null,"wait"),l.a.createElement("td",null,"\u9632\u6296\u7b49\u5f85\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2"),l.a.createElement("td",null,l.a.createElement("code",null,"number")),l.a.createElement("td",null,l.a.createElement("code",null,"0"))),l.a.createElement("tr",null,l.a.createElement("td",null,"options"),l.a.createElement("td",null,l.a.createElement("a",{href:"https://www.lodashjs.com/docs/latest#_throttlefunc-wait0-options",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("code",null,"lodash.throttle"),l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},l.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),l.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," \u7684 ",l.a.createElement("code",null,"options")," \u914d\u7f6e\u9879"),l.a.createElement("td",null,l.a.createElement("code",null,"object")),l.a.createElement("td",null,l.a.createElement("code",null,"{}")))))))}},FfOG:function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return l}));var a=t("YS25"),r={basename:"/"};window.routerBase&&(r.basename=window.routerBase);var l=Object({NODE_ENV:"production"}).__IS_SERVER?null:Object(a["b"])(r),o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e||(l=Object(a["b"])(r)),l}},GEXl:function(e,n,t){"use strict";t.r(n);t("OaEy");var a=t("2fM7"),r=t("q1tI"),l=t.n(r),o=t("sZDl"),c=t("luuv"),u=t.n(c);function s(e){return console.log(e),new Promise(e=>{setTimeout(()=>{e(u.a.mock({"data|5":["@email"]}).data)},300)})}var i=a["a"].Option;n["default"]=()=>{var e=Object(o["a"])(s,{debounceInterval:500,autoRun:!1}),n=e.data,t=e.loading,r=e.run,c=e.cancel;return l.a.createElement("div",null,l.a.createElement("p",null,"Enter quickly to see the effect"),l.a.createElement(a["a"],{showSearch:!0,placeholder:"Select Emails",filterOption:!1,onSearch:r,onBlur:c,loading:t,style:{width:300}},n&&n.map(e=>l.a.createElement(i,{key:e,value:e},e))))}},GeNd:function(e,n,t){"use strict";t.r(n);var a=t("0Owb"),r=t("q1tI"),l=t.n(r),o=(t("B2uJ"),t("+su7"),t("qOys")),c=t.n(o),u=t("5Yjd"),s=t.n(u),i=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("dFAH")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),d=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("zTMO")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"usethrottlefn"},l.a.createElement("a",{"aria-hidden":"true",href:"#usethrottlefn"},l.a.createElement("span",{className:"icon icon-link"})),"useThrottleFn"),l.a.createElement("p",null,"\u7528\u6765\u5904\u7406\u8282\u6d41\u51fd\u6570\u7684 Hook\u3002"),l.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},l.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),l.a.createElement("h3",{id:"\u57fa\u672c\u7528\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u672c\u7528\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u7528\u6cd5")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport { Button } from 'antd';\nimport { useThrottleFn } from 'rc-hooks';\n\nexport default () => {\n  const [value, setValue] = useState(0);\n  const { run } = useThrottleFn(setValue, 500);\n\n  return (\n    <div>\n      <p style={{ marginTop: 16 }}> Clicked count: {value} </p>\n      <Button onClick={() => { run(value + 1) }}>Click fast!</Button>\n    </div>\n  );\n};",jsx:"import React, { useState } from 'react';\nimport { Button } from 'antd';\nimport { useThrottleFn } from 'rc-hooks';\nexport default () => {\n  const [value, setValue] = useState(0);\n  const { run } = useThrottleFn(setValue, 500);\n  return (\n    <div>\n      <p\n        style={{\n          marginTop: 16,\n        }}\n      >\n        {' '}\n        Clicked count: {value}{' '}\n      </p>\n      <Button\n        onClick={() => {\n          run(value + 1);\n        }}\n      >\n        Click fast!\n      </Button>\n    </div>\n  );\n};\n"}},{path:"/_demos/demo1-6",title:"\u57fa\u672c\u7528\u6cd5",desc:'<div class="markdown"><p>\u9891\u7e41\u8c03\u7528 run\uff0c\u4f46\u53ea\u4f1a\u6bcf\u9694 500ms \u6267\u884c\u4e00\u6b21\u76f8\u5173\u51fd\u6570\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2"},files:{}}),l.a.createElement(i,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h3",{id:"\u5bf9\u6bd4"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u5bf9\u6bd4"},l.a.createElement("span",{className:"icon icon-link"})),"\u5bf9\u6bd4")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport { Button, Input } from 'antd';\nimport { useThrottleFn } from 'rc-hooks';\n\nexport default () => {\n  const [value, setValue] = useState('');\n  const [throttleValue, setThrottleValue] = useState<string|undefined>();\n\n  const { run, cancel } = useThrottleFn(setThrottleValue, 1000);\n\n  return (\n    <div>\n      <Input\n        value={value}\n        onChange={e => {\n          setValue(e.target.value);\n          run(e.target.value);\n        }}\n        placeholder=\"Typed value\"\n        style={{ width: 280 }}\n      />\n      <p style={{ margin: '16px 0' }}>\n        <Button onClick={cancel}>Cancel Throttle</Button>\n      </p>\n      <p>value: {value}</p>\n      <p>throttleValue: {throttleValue}</p>\n    </div>\n  );\n};",jsx:"import React, { useState } from 'react';\nimport { Button, Input } from 'antd';\nimport { useThrottleFn } from 'rc-hooks';\nexport default () => {\n  const [value, setValue] = useState('');\n  const [throttleValue, setThrottleValue] = useState();\n  const { run, cancel } = useThrottleFn(setThrottleValue, 1000);\n  return (\n    <div>\n      <Input\n        value={value}\n        onChange={(e) => {\n          setValue(e.target.value);\n          run(e.target.value);\n        }}\n        placeholder=\"Typed value\"\n        style={{\n          width: 280,\n        }}\n      />\n      <p\n        style={{\n          margin: '16px 0',\n        }}\n      >\n        <Button onClick={cancel}>Cancel Throttle</Button>\n      </p>\n      <p>value: {value}</p>\n      <p>throttleValue: {throttleValue}</p>\n    </div>\n  );\n};\n"}},{path:"/_demos/demo2-2",title:"\u5bf9\u6bd4",desc:'<div class="markdown"><p>\u5f53 value \u53d8\u5316\u540e\uff0c\u4f1a\u6bcf\u9694 1000ms \u6267\u884c\u4e00\u6b21\u76f8\u5173\u51fd\u6570\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2"},files:{}}),l.a.createElement(d,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"api"},l.a.createElement("a",{"aria-hidden":"true",href:"#api"},l.a.createElement("span",{className:"icon icon-link"})),"API"),l.a.createElement(c.a,{code:"const { run, cancel } = useThrottleFn(\n  fn: (...args: any) => any, \n  wait?: number, \n  options?: object\n);\n",lang:"javascript"}),l.a.createElement("h3",{id:"result"},l.a.createElement("a",{"aria-hidden":"true",href:"#result"},l.a.createElement("span",{className:"icon icon-link"})),"Result"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"run"),l.a.createElement("td",null,"\u89e6\u53d1\u6267\u884cfn\uff0c\u53c2\u6570\u4e5f\u4f1a\u4f20\u9012\u7ed9fn"),l.a.createElement("td",null)),l.a.createElement("tr",null,l.a.createElement("td",null,"cancel"),l.a.createElement("td",null,"\u53d6\u6d88\u5f53\u524d\u8282\u6d41"),l.a.createElement("td",null)))),l.a.createElement("h3",{id:"params"},l.a.createElement("a",{"aria-hidden":"true",href:"#params"},l.a.createElement("span",{className:"icon icon-link"})),"Params"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"),l.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"fn"),l.a.createElement("td",null,"\u9700\u8981\u8282\u6d41\u7684\u51fd\u6570"),l.a.createElement("td",null,l.a.createElement("code",null,"function")),l.a.createElement("td",null,l.a.createElement("code",null,"() => ","{}"))),l.a.createElement("tr",null,l.a.createElement("td",null,"wait"),l.a.createElement("td",null,"\u8282\u6d41\u7b49\u5f85\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2"),l.a.createElement("td",null,l.a.createElement("code",null,"number")),l.a.createElement("td",null,l.a.createElement("code",null,"0"))),l.a.createElement("tr",null,l.a.createElement("td",null,"options"),l.a.createElement("td",null,l.a.createElement("a",{href:"https://www.lodashjs.com/docs/latest#_throttlefunc-wait0-options",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("code",null,"lodash.throttle"),l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},l.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),l.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," \u7684 ",l.a.createElement("code",null,"options")," \u914d\u7f6e\u9879"),l.a.createElement("td",null,l.a.createElement("code",null,"object")),l.a.createElement("td",null,l.a.createElement("code",null,"{}")))))))}},"I0+J":function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=t("tJVT"),l=(t("miYZ"),t("tsqr")),o=t("q1tI"),c=t.n(o),u=e=>{var n=Object(o["useRef"])(e);n.current=e,Object(o["useEffect"])(()=>()=>{n.current&&"function"===typeof n.current&&n.current()},[])},s=u,i=()=>(s(()=>{l["a"].info("unmount")}),c.a.createElement("div",null,"Hello World"));n["default"]=()=>{var e=Object(o["useState"])(!0),n=Object(r["a"])(e,2),t=n[0],l=n[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(a["a"],{onClick:()=>l(e=>!e)},t?"unmount":"mount"),t&&c.a.createElement(i,null))}},LXqt:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),r=t.n(a),l=t("sZDl"),o=t("luuv"),c=t.n(o);function u(){return new Promise(e=>{setTimeout(()=>{e(c.a.mock("@name"))},1e3)})}n["default"]=()=>{var e=Object(l["a"])(u),n=e.data,t=e.error,a=e.loading;return a?r.a.createElement("div",null,"loading..."):t?r.a.createElement("div",null,"failed to load"):r.a.createElement("div",null,"Username: ",n)}},LtlN:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=t("tJVT"),l=t("q1tI"),o=t.n(l),c=t("q/Fw");n["default"]=()=>{var e=Object(l["useState"])(0),n=Object(r["a"])(e,2),t=n[0],u=n[1],s=Object(c["a"])(u,500),i=s.run;return o.a.createElement("div",null,o.a.createElement("p",{style:{marginTop:16}}," Clicked count: ",t," "),o.a.createElement(a["a"],{onClick:()=>i(t+1)},"Click fast!"))}},MX7n:function(e,n,t){"use strict";t.r(n);var a=t("0Owb"),r=t("q1tI"),l=t.n(r),o=(t("B2uJ"),t("+su7"),t("qOys")),c=t.n(o),u=t("5Yjd"),s=t.n(u),i=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("4lX7")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"usemount"},l.a.createElement("a",{"aria-hidden":"true",href:"#usemount"},l.a.createElement("span",{className:"icon icon-link"})),"useMount"),l.a.createElement("p",null,"\u53ea\u5728\u7ec4\u4ef6 mount \u65f6\u6267\u884c\u7684 Hook\u3002"),l.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},l.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),l.a.createElement("h3",{id:"\u57fa\u672c\u7528\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u672c\u7528\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u7528\u6cd5")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport { Button, message } from 'antd';\nimport { useMount } from 'rc-hooks';\n\nconst MyComponent = () => {\n  useMount(\n    () => {\n      message.info('mount');\n    }\n  );\n\n  return (<div>Hello World</div>)\n}\n\nexport default () => {\n  const [state, toggle] = useState(false);\n\n  return (<>\n    <Button onClick={() => toggle(s => !s)}>{state ? 'unmount' : 'mount'}</Button>\n    {state && <MyComponent />}\n  </>);\n};",jsx:"import React, { useState } from 'react';\nimport { Button, message } from 'antd';\nimport { useMount } from 'rc-hooks';\n\nconst MyComponent = () => {\n  useMount(() => {\n    message.info('mount');\n  });\n  return <div>Hello World</div>;\n};\n\nexport default () => {\n  const [state, toggle] = useState(false);\n  return (\n    <>\n      <Button onClick={() => toggle((s) => !s)}>{state ? 'unmount' : 'mount'}</Button>\n      {state && <MyComponent />}\n    </>\n  );\n};\n"}},{path:"/_demos/demo1-3",title:"\u57fa\u672c\u7528\u6cd5",desc:'<div class="markdown"><p>\u5728\u7ec4\u4ef6\u9996\u6b21\u6e32\u67d3\u65f6\uff0c\u6267\u884c\u65b9\u6cd5\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2"},files:{}}),l.a.createElement(i,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"api"},l.a.createElement("a",{"aria-hidden":"true",href:"#api"},l.a.createElement("span",{className:"icon icon-link"})),"API"),l.a.createElement(c.a,{code:"useMount(fn: () => void);\n",lang:"javascript"}),l.a.createElement("h3",{id:"params"},l.a.createElement("a",{"aria-hidden":"true",href:"#params"},l.a.createElement("span",{className:"icon icon-link"})),"Params"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"),l.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"fn"),l.a.createElement("td",null,"mount \u65f6\u6267\u884c\u7684\u51fd\u6570"),l.a.createElement("td",null,l.a.createElement("code",null,"function")),l.a.createElement("td",null,"-"))))))}},MeCQ:function(e,n,t){"use strict";t.r(n);t("OaEy");var a=t("2fM7"),r=t("q1tI"),l=t.n(r),o=t("sZDl"),c=t("luuv"),u=t.n(c);function s(e){return console.log(e),new Promise(e=>{setTimeout(()=>{e(u.a.mock({"data|5":["@email"]}).data)},300)})}var i=a["a"].Option;n["default"]=()=>{var e=Object(o["a"])(s,{throttleInterval:1e3,autoRun:!1}),n=e.data,t=e.loading,r=e.run,c=e.cancel;return l.a.createElement("div",null,l.a.createElement("p",null,"Enter quickly to see the effect"),l.a.createElement(a["a"],{showSearch:!0,placeholder:"Select Emails",filterOption:!1,onSearch:r,onBlur:c,loading:t,style:{width:300}},n&&n.map(e=>l.a.createElement(i,{key:e,value:e},e))))}},Q53a:function(e,n,t){"use strict";t.r(n);var a=t("0Owb"),r=t("q1tI"),l=t.n(r),o=(t("B2uJ"),t("+su7"),t("qOys")),c=t.n(o),u=t("5Yjd"),s=t.n(u),i=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("mm5X")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"useupdate"},l.a.createElement("a",{"aria-hidden":"true",href:"#useupdate"},l.a.createElement("span",{className:"icon icon-link"})),"useUpdate"),l.a.createElement("p",null,"\u5f3a\u5236\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u7684 Hook\u3002"),l.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},l.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),l.a.createElement("h3",{id:"\u57fa\u672c\u7528\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u672c\u7528\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u7528\u6cd5")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React from 'react';\nimport { Button } from 'antd';\nimport { useUpdate } from 'rc-hooks';\n\nexport default () => {\n  const update = useUpdate();\n\n  return (\n    <>\n      <div>Time: {Date.now()}</div>\n      <Button onClick={update} style={{ marginTop: 16 }}>update</Button>\n    </>\n  );\n};\n",jsx:"import React from 'react';\nimport { Button } from 'antd';\nimport { useUpdate } from 'rc-hooks';\nexport default () => {\n  const update = useUpdate();\n  return (\n    <>\n      <div>Time: {Date.now()}</div>\n      <Button\n        onClick={update}\n        style={{\n          marginTop: 16,\n        }}\n      >\n        update\n      </Button>\n    </>\n  );\n};\n"}},{path:"/_demos/demo1-8",title:"\u57fa\u672c\u7528\u6cd5",desc:'<div class="markdown"><p>\u70b9\u51fb\u6309\u94ae\u5f3a\u5236\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2"},files:{}}),l.a.createElement(i,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"api"},l.a.createElement("a",{"aria-hidden":"true",href:"#api"},l.a.createElement("span",{className:"icon icon-link"})),"API"),l.a.createElement(c.a,{code:"useUpdate();\n",lang:"javascript"})))}},QMn5:function(e,n,t){"use strict";t.r(n);t("T2oS");var a=t("W9HT"),r=(t("+L6B"),t("2/Rp")),l=t("q1tI"),o=t("sZDl"),c=t("luuv"),u=t.n(c);function s(){return new Promise(e=>{setTimeout(()=>{e({data:u.a.mock("@paragraph"),time:(new Date).getTime()})},1e3)})}var i=()=>{var e=Object(o["a"])(s,{cacheKey:"persited-demo",cacheTime:1e4,persisted:!0}),n=e.run,t=e.data,c=e.loading;return l["createElement"]("div",null,l["createElement"]("p",null,"10\u79d2\u5185\u518d\u6b21\u83b7\u53d6\uff0c\u76f4\u63a5\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\u6570\u636e\u3002"),l["createElement"]("p",null,l["createElement"](r["a"],{onClick:n},"\u83b7\u53d6\u6570\u636e")),l["createElement"](a["a"],{spinning:c},l["createElement"]("p",null,"Latest request time: ",null===t||void 0===t?void 0:t.time),l["createElement"]("p",null,null===t||void 0===t?void 0:t.data)))};n["default"]=i},ROAM:function(e,n,t){"use strict";t.r(n);var a=t("0Owb"),r=t("q1tI"),l=t.n(r),o=(t("B2uJ"),t("+su7"),t("qOys")),c=t.n(o),u=t("5Yjd"),s=t.n(u),i=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("I0+J")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"useunmount"},l.a.createElement("a",{"aria-hidden":"true",href:"#useunmount"},l.a.createElement("span",{className:"icon icon-link"})),"useUnmount"),l.a.createElement("p",null,"\u53ea\u5728\u7ec4\u4ef6 unmount \u65f6\u6267\u884c\u7684 Hook\u3002"),l.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},l.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),l.a.createElement("h3",{id:"\u57fa\u672c\u7528\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u672c\u7528\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u7528\u6cd5")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport { Button, message } from 'antd';\nimport { useUnmount } from 'rc-hooks';\n\nconst MyComponent = () => {\n  useUnmount(\n    () => {\n      message.info('unmount');\n    }\n  );\n\n  return (<div>Hello World</div>)\n}\n\nexport default () => {\n  const [state, toggle] = useState(true);\n\n  return (<>\n    <Button onClick={() => toggle(s => !s)}>{state ? 'unmount' : 'mount'}</Button>\n    {state && <MyComponent />}\n  </>);\n};",jsx:"import React, { useState } from 'react';\nimport { Button, message } from 'antd';\nimport { useUnmount } from 'rc-hooks';\n\nconst MyComponent = () => {\n  useUnmount(() => {\n    message.info('unmount');\n  });\n  return <div>Hello World</div>;\n};\n\nexport default () => {\n  const [state, toggle] = useState(true);\n  return (\n    <>\n      <Button onClick={() => toggle((s) => !s)}>{state ? 'unmount' : 'mount'}</Button>\n      {state && <MyComponent />}\n    </>\n  );\n};\n"}},{path:"/_demos/demo1-7",title:"\u57fa\u672c\u7528\u6cd5",desc:'<div class="markdown"><p>\u5728\u7ec4\u4ef6\u5378\u8f7d\u65f6\uff0c\u6267\u884c\u65b9\u6cd5\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2"},files:{}}),l.a.createElement(i,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"api"},l.a.createElement("a",{"aria-hidden":"true",href:"#api"},l.a.createElement("span",{className:"icon icon-link"})),"API"),l.a.createElement(c.a,{code:"useUnmount(fn: () => void);\n",lang:"javascript"}),l.a.createElement("h3",{id:"params"},l.a.createElement("a",{"aria-hidden":"true",href:"#params"},l.a.createElement("span",{className:"icon icon-link"})),"Params"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"),l.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"fn"),l.a.createElement("td",null,"unmount \u65f6\u6267\u884c\u7684\u51fd\u6570"),l.a.createElement("td",null,l.a.createElement("code",null,"function")),l.a.createElement("td",null,"-"))))))}},RoSt:function(e,n,t){"use strict";t.r(n);t("T2oS");var a=t("W9HT"),r=t("q1tI"),l=t.n(r),o=t("sZDl"),c=t("luuv"),u=t.n(c);function s(){return new Promise(e=>{setTimeout(()=>{e(u.a.mock("@name"))},1e3)})}n["default"]=()=>{var e=Object(o["a"])(s,{refreshOnWindowFocus:!0}),n=e.data,t=e.loading;return l.a.createElement("div",null,l.a.createElement("p",null,"You can try to click elsewhere and click back to try. (Or hide the page and show it again)"),l.a.createElement(a["a"],{spinning:t},l.a.createElement("div",null,"Username: ",n)))}},aWgF:function(e,n,t){"use strict";var a=t("q1tI"),r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Object(a["useRef"])(!1);Object(a["useEffect"])(()=>{if(t.current)return e();t.current=!0},n)};n["a"]=r},bCY9:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var a=t("LtsZ"),r=new a["Plugin"]({validKeys:["modifyClientRenderOpts","patchRoutes","rootContainer","render","onRouteChange"]})},dFAH:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=t("tJVT"),l=t("q1tI"),o=t.n(l),c=t("CZNa");n["default"]=()=>{var e=Object(l["useState"])(0),n=Object(r["a"])(e,2),t=n[0],u=n[1],s=Object(c["a"])(u,500),i=s.run;return o.a.createElement("div",null,o.a.createElement("p",{style:{marginTop:16}}," Clicked count: ",t," "),o.a.createElement(a["a"],{onClick:()=>{i(t+1)}},"Click fast!"))}},eLKE:function(e,n,t){"use strict";t.r(n);var a=t("0Owb"),r=t("q1tI"),l=t.n(r),o=(t("B2uJ"),t("+su7"),t("qOys")),c=t.n(o),u=t("5Yjd"),s=t.n(u),i=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("LXqt")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),d=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("pqBg")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),m=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("F4wY")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),p=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("QMn5")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),f=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("RoSt")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),h=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("jPpW")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),E=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("GEXl")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),g=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("MeCQ")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),v=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("wiD+")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),y=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("2ppu")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),b=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("5fcZ")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),k=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("C/Ph")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),w=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("F/lo")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),R=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("FSPR")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),S=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("kDkF")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),C=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("xzsK")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),x=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("vu5i")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"useasync"},l.a.createElement("a",{"aria-hidden":"true",href:"#useasync"},l.a.createElement("span",{className:"icon icon-link"})),"useAsync"),l.a.createElement("p",null,"\u7ba1\u7406\u5f02\u6b65\u51fd\u6570\u7684 Hook\u3002"),l.a.createElement("p",null,l.a.createElement("strong",null,"\u6838\u5fc3\u7279\u6027")),l.a.createElement("ul",null,l.a.createElement("li",null,"\u81ea\u52a8\u8bf7\u6c42"),l.a.createElement("li",null,"\u624b\u52a8\u8bf7\u6c42"),l.a.createElement("li",null,"\u7f13\u5b58 & \u9884\u52a0\u8f7d"),l.a.createElement("li",null,"\u6301\u4e45\u5316\u6570\u636e"),l.a.createElement("li",null,"\u5c4f\u5e55\u805a\u7126\u91cd\u65b0\u8bf7\u6c42"),l.a.createElement("li",null,"\u8f6e\u8be2"),l.a.createElement("li",null,"\u9632\u6296"),l.a.createElement("li",null,"\u8282\u6d41"),l.a.createElement("li",null,"\u7a81\u53d8"),l.a.createElement("li",null,"Loading Delay"),l.a.createElement("li",null,"refreshDeps"),l.a.createElement("li",null,"\u5e76\u884c\u8bf7\u6c42"),l.a.createElement("li",null,"\u5206\u9875"),l.a.createElement("li",null,"\u52a0\u8f7d\u66f4\u591a"),l.a.createElement("li",null,"...")),l.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},l.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),l.a.createElement("h3",{id:"\u9ed8\u8ba4\u8bf7\u6c42"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u9ed8\u8ba4\u8bf7\u6c42"},l.a.createElement("span",{className:"icon icon-link"})),"\u9ed8\u8ba4\u8bf7\u6c42")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React from 'react';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getUsername(): Promise<string> {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(Mock.mock('@name'));\n    }, 1000);\n  });\n}\n\nexport default () => {\n  const { data, error, loading } = useAsync(getUsername);\n\n  if (loading) {\n    return <div>loading...</div>\n  }\n\n  if (error) {\n    return <div>failed to load</div>\n  }\n  return <div>Username: {data}</div>\n}\n",jsx:"import React from 'react';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getUsername() {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(Mock.mock('@name'));\n    }, 1000);\n  });\n}\n\nexport default () => {\n  const { data, error, loading } = useAsync(getUsername);\n\n  if (loading) {\n    return <div>loading...</div>;\n  }\n\n  if (error) {\n    return <div>failed to load</div>;\n  }\n\n  return <div>Username: {data}</div>;\n};\n"}},{path:"/_demos/default",title:"\u9ed8\u8ba4\u8bf7\u6c42",desc:'<div class="markdown"><p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c <code>useAsync</code> \u63a5\u6536\u4e86\u4e00\u4e2a\u5f02\u6b65\u51fd\u6570 <code>getUsername</code> \uff0c\u5728\u7ec4\u4ef6\u521d\u6b21\u52a0\u8f7d\u65f6\uff0c \u81ea\u52a8\u89e6\u53d1\u8be5\u51fd\u6570\u6267\u884c\u3002\u540c\u65f6 <code>useAsync</code> \u4f1a\u81ea\u52a8\u7ba1\u7406\u5f02\u6b65\u8bf7\u6c42\u7684 <code>loading</code> , <code>data</code> , <code>error</code> \u7b49\u72b6\u6001\u3002</p></div>',dependencies:{"rc-hooks":"0.8.2",mockjs:"1.1.0"},files:{}}),l.a.createElement(i,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h3",{id:"\u624b\u52a8\u89e6\u53d1"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u624b\u52a8\u89e6\u53d1"},l.a.createElement("span",{className:"icon icon-link"})),"\u624b\u52a8\u89e6\u53d1")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport { Button, Input, message } from 'antd';\nimport { useAsync } from 'rc-hooks';\n\nfunction changeUsername(username: string): Promise<{ success: boolean }> {\n  console.log(username);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({ success: true });\n    }, 1000);\n  });\n}\n\nexport default () => {\n  const [state, setState] = useState('');\n  const { loading, run } = useAsync(changeUsername, {\n    autoRun: false,\n    onSuccess: (result, params) => {\n      if (result.success) {\n        setState('');\n        message.success(`The username was changed to \"${params[0]}\" !`);\n      }\n    }\n  });\n\n  return (\n    <div>\n      <Input\n        onChange={e => setState(e.target.value)}\n        value={state}\n        placeholder=\"Please enter username\"\n        style={{ width: 240, marginRight: 16 }}\n      />\n      <Button onClick={() => run(state)} loading={loading}>\n        Edit\n      </Button>\n    </div>\n  );\n};\n",jsx:"import React, { useState } from 'react';\nimport { Button, Input, message } from 'antd';\nimport { useAsync } from 'rc-hooks';\n\nfunction changeUsername(username) {\n  console.log(username);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        success: true,\n      });\n    }, 1000);\n  });\n}\n\nexport default () => {\n  const [state, setState] = useState('');\n  const { loading, run } = useAsync(changeUsername, {\n    autoRun: false,\n    onSuccess: (result, params) => {\n      if (result.success) {\n        setState('');\n        message.success(`The username was changed to \"${params[0]}\" !`);\n      }\n    },\n  });\n  return (\n    <div>\n      <Input\n        onChange={(e) => setState(e.target.value)}\n        value={state}\n        placeholder=\"Please enter username\"\n        style={{\n          width: 240,\n          marginRight: 16,\n        }}\n      />\n      <Button onClick={() => run(state)} loading={loading}>\n        Edit\n      </Button>\n    </div>\n  );\n};\n"}},{path:"/_demos/auto-run",title:"\u624b\u52a8\u89e6\u53d1",desc:'<div class="markdown"><p>\u901a\u8fc7\u8bbe\u7f6e <code>options.autoRun = false</code> , \u5219\u9700\u8981\u624b\u52a8\u8c03\u7528 <code>run</code> \u65f6\u624d\u4f1a\u89e6\u53d1\u6267\u884c\u5f02\u6b65\u51fd\u6570\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2"},files:{}}),l.a.createElement(d,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h3",{id:"\u7f13\u5b58--\u9884\u52a0\u8f7d"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u7f13\u5b58--\u9884\u52a0\u8f7d"},l.a.createElement("span",{className:"icon icon-link"})),"\u7f13\u5b58 & \u9884\u52a0\u8f7d")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport { Button, Spin } from 'antd';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getArticle(): Promise<{ data: string, time: number }> {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        data: Mock.mock('@paragraph'),\n        time: new Date().getTime()\n      })\n    }, 1000)\n  });\n}\n\nexport default () => {\n  const [visible, setVisible] = useState(false);\n  const { run } = useAsync(getArticle, {\n    cacheKey: 'article',\n    autoRun: false\n  });\n  return (\n    <div>\n      <p>When the mouse hovers over the button, the article data is preloaded.</p>\n      <p>\n        <Button onMouseEnter={() => run()} onClick={() => setVisible(b => !b)}>show/hidden</Button>\n      </p>\n      {visible && <Article />}\n    </div>\n  )\n};\n\nconst Article = () => {\n  const { data, loading } = useAsync(getArticle, {\n    cacheKey: 'article'\n  });\n  return (\n    <Spin spinning={!data && loading}>\n      <p>Latest request time: {data?.time}</p>\n      <p>{data?.data}</p>\n    </Spin>\n  );\n}\n",jsx:"import React, { useState } from 'react';\nimport { Button, Spin } from 'antd';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getArticle() {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        data: Mock.mock('@paragraph'),\n        time: new Date().getTime(),\n      });\n    }, 1000);\n  });\n}\n\nexport default () => {\n  const [visible, setVisible] = useState(false);\n  const { run } = useAsync(getArticle, {\n    cacheKey: 'article',\n    autoRun: false,\n  });\n  return (\n    <div>\n      <p>When the mouse hovers over the button, the article data is preloaded.</p>\n      <p>\n        <Button onMouseEnter={() => run()} onClick={() => setVisible((b) => !b)}>\n          show/hidden\n        </Button>\n      </p>\n      {visible && <Article />}\n    </div>\n  );\n};\n\nconst Article = () => {\n  const { data, loading } = useAsync(getArticle, {\n    cacheKey: 'article',\n  });\n  return (\n    <Spin spinning={!data && loading}>\n      <p>Latest request time: {data?.time}</p>\n      <p>{data?.data}</p>\n    </Spin>\n  );\n};\n"}},{path:"/_demos/preload",title:"\u7f13\u5b58 & \u9884\u52a0\u8f7d",desc:'<div class="markdown"><p>\u5982\u679c\u8bbe\u7f6e\u4e86 <code>options.cacheKey</code> \uff0c <code>useAsync</code> \u4f1a\u5c06\u5f53\u524d\u8bf7\u6c42\u7ed3\u675f\u6570\u636e\u7f13\u5b58\u8d77\u6765\u3002\u4e0b\u6b21\u7ec4\u4ef6\u521d\u59cb\u5316\u65f6\uff0c\u5982\u679c\u6709\u7f13\u5b58\u6570\u636e\uff0c\u6211\u4eec\u4f1a\u4f18\u5148\u8fd4\u56de\u7f13\u5b58\u6570\u636e\uff0c\u7136\u540e\u5728\u80cc\u540e\u53d1\u9001\u65b0\u8bf7\u6c42\u3002</p>\n<p>\u540c\u4e00\u4e2a <code>cacheKey</code> \u7684\u8bf7\u6c42\uff0c\u662f\u5168\u5c40\u5171\u4eab\u7684\uff0c\u4e5f\u5c31\u662f\u4f60\u53ef\u4ee5\u63d0\u524d\u52a0\u8f7d\u6570\u636e\u3002\u5229\u7528\u8be5\u7279\u6027\uff0c\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u5b9e\u73b0\u9884\u52a0\u8f7d\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2",mockjs:"1.1.0"},files:{}}),l.a.createElement(m,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h3",{id:"\u6301\u4e45\u5316\u6570\u636e"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u6301\u4e45\u5316\u6570\u636e"},l.a.createElement("span",{className:"icon icon-link"})),"\u6301\u4e45\u5316\u6570\u636e")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import * as React from 'react';\nimport { Button, Spin } from 'antd';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getArticle(): Promise<{ data: string, time: number }> {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        data: Mock.mock('@paragraph'),\n        time: new Date().getTime()\n      })\n    }, 1000)\n  });\n}\n\nconst Demo: React.FC<{}> = () => {\n  const { run, data, loading } = useAsync(getArticle, {\n    cacheKey: 'persited-demo',\n    cacheTime: 10 * 1000,\n    persisted: true\n  });\n\n  return (\n    <div>\n      <p>10\u79d2\u5185\u518d\u6b21\u83b7\u53d6\uff0c\u76f4\u63a5\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\u6570\u636e\u3002</p>\n      <p><Button onClick={run}>\u83b7\u53d6\u6570\u636e</Button></p>\n      <Spin spinning={loading}>\n        <p>Latest request time: {data?.time}</p>\n        <p>{data?.data}</p>\n      </Spin>\n    </div>\n  );\n}\n\nexport default Demo;",jsx:"import * as React from 'react';\nimport { Button, Spin } from 'antd';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getArticle() {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        data: Mock.mock('@paragraph'),\n        time: new Date().getTime(),\n      });\n    }, 1000);\n  });\n}\n\nconst Demo = () => {\n  const { run, data, loading } = useAsync(getArticle, {\n    cacheKey: 'persited-demo',\n    cacheTime: 10 * 1000,\n    persisted: true,\n  });\n  return (\n    <div>\n      <p>10\u79d2\u5185\u518d\u6b21\u83b7\u53d6\uff0c\u76f4\u63a5\u4ece\u7f13\u5b58\u4e2d\u8bfb\u53d6\u6570\u636e\u3002</p>\n      <p>\n        <Button onClick={run}>\u83b7\u53d6\u6570\u636e</Button>\n      </p>\n      <Spin spinning={loading}>\n        <p>Latest request time: {data?.time}</p>\n        <p>{data?.data}</p>\n      </Spin>\n    </div>\n  );\n};\n\nexport default Demo;\n"}},{path:"/_demos/persisted",title:"\u6301\u4e45\u5316\u6570\u636e",desc:'<div class="markdown"><p>\u5982\u679c\u6709\u7f13\u5b58\u6570\u636e\uff0c\u4e0d\u518d\u6267\u884c\u5f02\u6b65\u51fd\u6570\u3002</p>\n<p>\u9700\u8981\u914d\u5408 <code>cacheKey</code> <code>cacheTime</code> \u4f7f\u7528\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2",mockjs:"1.1.0"},files:{}}),l.a.createElement(p,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h3",{id:"\u5c4f\u5e55\u805a\u7126\u91cd\u65b0\u8bf7\u6c42"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u5c4f\u5e55\u805a\u7126\u91cd\u65b0\u8bf7\u6c42"},l.a.createElement("span",{className:"icon icon-link"})),"\u5c4f\u5e55\u805a\u7126\u91cd\u65b0\u8bf7\u6c42")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React from 'react';\nimport { Spin } from 'antd';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getUsername(): Promise<string> {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(Mock.mock('@name'));\n    }, 1000);\n  });\n}\n\nexport default () => {\n  const { data, loading } = useAsync(getUsername, {\n    refreshOnWindowFocus: true\n  })\n\n  return (\n    <div>\n      <p>You can try to click elsewhere and click back to try. (Or hide the page and show it again)</p>\n      <Spin spinning={loading}>\n        <div>Username: {data}</div>\n      </Spin>\n    </div>\n  )\n}\n",jsx:"import React from 'react';\nimport { Spin } from 'antd';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getUsername() {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(Mock.mock('@name'));\n    }, 1000);\n  });\n}\n\nexport default () => {\n  const { data, loading } = useAsync(getUsername, {\n    refreshOnWindowFocus: true,\n  });\n  return (\n    <div>\n      <p>\n        You can try to click elsewhere and click back to try. (Or hide the page and show it again)\n      </p>\n      <Spin spinning={loading}>\n        <div>Username: {data}</div>\n      </Spin>\n    </div>\n  );\n};\n"}},{path:"/_demos/refresh-on-window-focus",title:"\u5c4f\u5e55\u805a\u7126\u91cd\u65b0\u8bf7\u6c42",desc:'<div class="markdown"><p>\u5982\u679c\u4f60\u8bbe\u7f6e\u4e86 <code>options.refreshOnWindowFocus = true</code> \uff0c\u5219\u5728\u6d4f\u89c8\u5668\u7a97\u53e3 <code>refocus</code> \u548c <code>revisible</code> \u65f6\uff0c\u4f1a\u91cd\u65b0\u53d1\u8d77\u8bf7\u6c42\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e <code>options.focusTimespan</code> \u6765\u8bbe\u7f6e\u8bf7\u6c42\u95f4\u9694\uff0c\u9ed8\u8ba4\u4e3a <code>5000ms</code> \u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2",mockjs:"1.1.0"},files:{}}),l.a.createElement(f,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h3",{id:"\u8f6e\u8be2"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u8f6e\u8be2"},l.a.createElement("span",{className:"icon icon-link"})),"\u8f6e\u8be2")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React from 'react';\nimport { Button, Spin } from 'antd';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getUsername(): Promise<string> {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(Mock.mock('@name'));\n    }, 1000);\n  });\n}\n\nexport default () => {\n  const { data, loading, run, cancel } = useAsync(getUsername, {\n    pollingInterval: 1000,\n    pollingWhenHidden: false\n  })\n\n  return (\n    <>\n      <Spin spinning={loading}>\n        <p>Username: {data}</p>\n      </Spin>\n      <Button.Group>\n        <Button onClick={run}>start</Button>\n        <Button onClick={cancel}>stop</Button>\n      </Button.Group>\n    </>\n  )\n}\n",jsx:"import React from 'react';\nimport { Button, Spin } from 'antd';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getUsername() {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(Mock.mock('@name'));\n    }, 1000);\n  });\n}\n\nexport default () => {\n  const { data, loading, run, cancel } = useAsync(getUsername, {\n    pollingInterval: 1000,\n    pollingWhenHidden: false,\n  });\n  return (\n    <>\n      <Spin spinning={loading}>\n        <p>Username: {data}</p>\n      </Spin>\n      <Button.Group>\n        <Button onClick={run}>start</Button>\n        <Button onClick={cancel}>stop</Button>\n      </Button.Group>\n    </>\n  );\n};\n"}},{path:"/_demos/polling-interval",title:"\u8f6e\u8be2",desc:'<div class="markdown"><p>\u901a\u8fc7\u8bbe\u7f6e <code>options.pollingInterval</code> \uff0c\u8fdb\u5165\u8f6e\u8be2\u6a21\u5f0f\uff0c\u5b9a\u65f6\u89e6\u53d1\u51fd\u6570\u6267\u884c\u3002</p>\n<ul>\n<li>\u901a\u8fc7\u8bbe\u7f6e <code>options.pollingWhenHidden=false</code> \uff0c\u5728\u5c4f\u5e55\u4e0d\u53ef\u89c1\u65f6\uff0c\u6682\u65f6\u6682\u505c\u5b9a\u65f6\u4efb\u52a1\u3002</li>\n<li>\u901a\u8fc7 <code>run</code> / <code>cancel</code> \u6765 \u5f00\u542f/\u505c\u6b62 \u8f6e\u8be2\u3002</li>\n<li>\u5728 <code>options.autoRun=false</code> \u65f6\uff0c\u9700\u8981\u7b2c\u4e00\u6b21\u6267\u884c <code>run</code> \u540e\uff0c\u624d\u5f00\u59cb\u8f6e\u8be2\u3002</li>\n</ul></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2",mockjs:"1.1.0"},files:{}}),l.a.createElement(h,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h3",{id:"\u9632\u6296"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u9632\u6296"},l.a.createElement("span",{className:"icon icon-link"})),"\u9632\u6296")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React from 'react';\nimport { Select } from 'antd';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getEmail(search: string): Promise<string[]> {\n  console.log(search);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(Mock.mock({ 'data|5': ['@email'] }).data);\n    }, 300);\n  });\n}\n\nconst { Option } = Select;\n\nexport default () => {\n  const { data, loading, run, cancel } = useAsync(getEmail, {\n    debounceInterval: 500,\n    autoRun: false\n  });\n\n  return (\n    <div>\n      <p>Enter quickly to see the effect</p>\n      <Select\n        showSearch\n        placeholder=\"Select Emails\"\n        filterOption={false}\n        onSearch={run}\n        onBlur={cancel}\n        loading={loading}\n        style={{ width: 300 }}\n      >\n        {data && data.map(i => <Option key={i} value={i}>{i}</Option>)}\n      </Select>\n    </div>\n  );\n};\n",jsx:"import React from 'react';\nimport { Select } from 'antd';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getEmail(search) {\n  console.log(search);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(\n        Mock.mock({\n          'data|5': ['@email'],\n        }).data,\n      );\n    }, 300);\n  });\n}\n\nconst { Option } = Select;\nexport default () => {\n  const { data, loading, run, cancel } = useAsync(getEmail, {\n    debounceInterval: 500,\n    autoRun: false,\n  });\n  return (\n    <div>\n      <p>Enter quickly to see the effect</p>\n      <Select\n        showSearch\n        placeholder=\"Select Emails\"\n        filterOption={false}\n        onSearch={run}\n        onBlur={cancel}\n        loading={loading}\n        style={{\n          width: 300,\n        }}\n      >\n        {data &&\n          data.map((i) => (\n            <Option key={i} value={i}>\n              {i}\n            </Option>\n          ))}\n      </Select>\n    </div>\n  );\n};\n"}},{path:"/_demos/debounce-interval",title:"\u9632\u6296",desc:'<div class="markdown"><p>\u901a\u8fc7\u8bbe\u7f6e <code>options.debounceInterval</code> \uff0c\u5219\u8fdb\u5165\u9632\u6296\u6a21\u5f0f\u3002\u6b64\u65f6\u5982\u679c\u9891\u7e41\u89e6\u53d1 <code>run</code> \uff0c\u5219\u4f1a\u4ee5\u9632\u6296\u7b56\u7565\u8fdb\u884c\u8bf7\u6c42\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2",mockjs:"1.1.0"},files:{}}),l.a.createElement(E,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h3",{id:"\u8282\u6d41"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u8282\u6d41"},l.a.createElement("span",{className:"icon icon-link"})),"\u8282\u6d41")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React from 'react';\nimport { Select } from 'antd';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getEmail(search: string): Promise<string[]> {\n  console.log(search);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(Mock.mock({ 'data|5': ['@email'] }).data);\n    }, 300);\n  });\n}\n\nconst { Option } = Select;\n\nexport default () => {\n  const { data, loading, run, cancel } = useAsync(getEmail, {\n    throttleInterval: 1000,\n    autoRun: false\n  });\n\n  return (\n    <div>\n      <p>Enter quickly to see the effect</p>\n      <Select\n        showSearch\n        placeholder=\"Select Emails\"\n        filterOption={false}\n        onSearch={run}\n        onBlur={cancel}\n        loading={loading}\n        style={{ width: 300 }}\n      >\n        {data && data.map(i => <Option key={i} value={i}>{i}</Option>)}\n      </Select>\n    </div>\n  );\n};\n",jsx:"import React from 'react';\nimport { Select } from 'antd';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getEmail(search) {\n  console.log(search);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(\n        Mock.mock({\n          'data|5': ['@email'],\n        }).data,\n      );\n    }, 300);\n  });\n}\n\nconst { Option } = Select;\nexport default () => {\n  const { data, loading, run, cancel } = useAsync(getEmail, {\n    throttleInterval: 1000,\n    autoRun: false,\n  });\n  return (\n    <div>\n      <p>Enter quickly to see the effect</p>\n      <Select\n        showSearch\n        placeholder=\"Select Emails\"\n        filterOption={false}\n        onSearch={run}\n        onBlur={cancel}\n        loading={loading}\n        style={{\n          width: 300,\n        }}\n      >\n        {data &&\n          data.map((i) => (\n            <Option key={i} value={i}>\n              {i}\n            </Option>\n          ))}\n      </Select>\n    </div>\n  );\n};\n"}},{path:"/_demos/throttle-interval",title:"\u8282\u6d41",desc:'<div class="markdown"><p>\u901a\u8fc7\u8bbe\u7f6e <code>options.throttleInterval</code> \uff0c\u5219\u8fdb\u5165\u8282\u6d41\u6a21\u5f0f\u3002\u6b64\u65f6\u5982\u679c\u9891\u7e41\u89e6\u53d1 <code>run</code> \uff0c\u5219\u4f1a\u4ee5\u8282\u6d41\u7b56\u7565\u8fdb\u884c\u8bf7\u6c42\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2",mockjs:"1.1.0"},files:{}}),l.a.createElement(g,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h3",{id:"\u7a81\u53d8"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u7a81\u53d8"},l.a.createElement("span",{className:"icon icon-link"})),"\u7a81\u53d8")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport { Button, Input, message } from 'antd';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getUsername(): Promise<string> {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(Mock.mock('@name'));\n    }, 1000);\n  });\n}\n\nfunction changeUsername(username: string): Promise<{ success: boolean }> {\n  console.log(username);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({ success: true });\n    }, 1000);\n  });\n}\n\nexport default () => {\n  const [state, setState] = useState('');\n  const { data, mutate } = useAsync(getUsername, {\n    onSuccess: result => {\n      setState(result);\n    }\n  });\n  const { loading, run } = useAsync(changeUsername, {\n    autoRun: false,\n    onSuccess: (result, params) => {\n      if (result.success) {\n        mutate(params[0]);\n        message.success(`The username was changed to \"${params[0]}\" !`);\n      }\n    }\n  });\n\n  return (\n    <div>\n      <p>usrename: {data}</p>\n      <Input\n        onChange={e => setState(e.target.value)}\n        value={state}\n        placeholder=\"Please enter username\"\n        style={{ width: 240, marginRight: 16 }}\n      />\n      <Button onClick={() => run(state)} loading={loading}>\n        Edit\n      </Button>\n    </div>\n  );\n};\n",jsx:"import React, { useState } from 'react';\nimport { Button, Input, message } from 'antd';\nimport { useAsync } from 'rc-hooks';\nimport Mock from 'mockjs';\n\nfunction getUsername() {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(Mock.mock('@name'));\n    }, 1000);\n  });\n}\n\nfunction changeUsername(username) {\n  console.log(username);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        success: true,\n      });\n    }, 1000);\n  });\n}\n\nexport default () => {\n  const [state, setState] = useState('');\n  const { data, mutate } = useAsync(getUsername, {\n    onSuccess: (result) => {\n      setState(result);\n    },\n  });\n  const { loading, run } = useAsync(changeUsername, {\n    autoRun: false,\n    onSuccess: (result, params) => {\n      if (result.success) {\n        mutate(params[0]);\n        message.success(`The username was changed to \"${params[0]}\" !`);\n      }\n    },\n  });\n  return (\n    <div>\n      <p>usrename: {data}</p>\n      <Input\n        onChange={(e) => setState(e.target.value)}\n        value={state}\n        placeholder=\"Please enter username\"\n        style={{\n          width: 240,\n          marginRight: 16,\n        }}\n      />\n      <Button onClick={() => run(state)} loading={loading}>\n        Edit\n      </Button>\n    </div>\n  );\n};\n"}},{path:"/_demos/mutate",title:"\u7a81\u53d8",desc:'<div class="markdown"><p>\u4f60\u53ef\u4ee5\u901a\u8fc7 <code>mutate</code> \uff0c\u76f4\u63a5\u4fee\u6539 <code>data</code> \u3002 <code>mutate</code> \u51fd\u6570\u53c2\u6570\u53ef\u4ee5\u4e3a <code>newData</code> \u6216 <code>(oldData)=> newData</code> \u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2",mockjs:"1.1.0"},files:{}}),l.a.createElement(v,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h3",{id:"loading-delay"},l.a.createElement("a",{"aria-hidden":"true",href:"#loading-delay"},l.a.createElement("span",{className:"icon icon-link"})),"Loading Delay")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React from 'react';\nimport { Spin, Button } from 'antd';\nimport { useAsync } from 'rc-hooks';\n\nfunction getCurrentTime(): Promise<number> {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve(new Date().getTime())\n    }, 100)\n  })\n}\n\nexport default () => {\n  const getTimeAction = useAsync(getCurrentTime);\n\n  const withLoadingDelayAction = useAsync(getCurrentTime, {\n    loadingDelay: 200\n  });\n\n  const trigger = () => {\n    getTimeAction.run();\n    withLoadingDelayAction.run();\n  }\n\n  return (\n    <div>\n      <p>loadingDelay can set delay loading, which can effectively prevent loading from flickering.</p>\n      <Button onClick={trigger}>\n        run\n      </Button>\n\n      <div style={{ margin: '24px 0', width: 300 }}>\n        <Spin spinning={getTimeAction.loading}>\n          Double Count: {getTimeAction.data}\n        </Spin>\n      </div>\n      <div>\n        <Spin spinning={withLoadingDelayAction.loading}>\n          Double Count: {withLoadingDelayAction.data}\n        </Spin>\n      </div>\n    </div>\n  );\n};\n",jsx:"import React from 'react';\nimport { Spin, Button } from 'antd';\nimport { useAsync } from 'rc-hooks';\n\nfunction getCurrentTime() {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(new Date().getTime());\n    }, 100);\n  });\n}\n\nexport default () => {\n  const getTimeAction = useAsync(getCurrentTime);\n  const withLoadingDelayAction = useAsync(getCurrentTime, {\n    loadingDelay: 200,\n  });\n\n  const trigger = () => {\n    getTimeAction.run();\n    withLoadingDelayAction.run();\n  };\n\n  return (\n    <div>\n      <p>\n        loadingDelay can set delay loading, which can effectively prevent loading from flickering.\n      </p>\n      <Button onClick={trigger}>run</Button>\n\n      <div\n        style={{\n          margin: '24px 0',\n          width: 300,\n        }}\n      >\n        <Spin spinning={getTimeAction.loading}>Double Count: {getTimeAction.data}</Spin>\n      </div>\n      <div>\n        <Spin spinning={withLoadingDelayAction.loading}>\n          Double Count: {withLoadingDelayAction.data}\n        </Spin>\n      </div>\n    </div>\n  );\n};\n"}},{path:"/_demos/loading-delay",title:"Loading Delay",desc:'<div class="markdown"><p>\u901a\u8fc7\u8bbe\u7f6e <code>options.loadingDelay</code> \uff0c\u53ef\u4ee5\u5ef6\u8fdf <code>loading</code> \u53d8\u6210 <code>true</code> \u7684\u65f6\u95f4\uff0c\u6709\u6548\u9632\u6b62\u95ea\u70c1\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2"},files:{}}),l.a.createElement(y,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h3",{id:"refreshdeps"},l.a.createElement("a",{"aria-hidden":"true",href:"#refreshdeps"},l.a.createElement("span",{className:"icon icon-link"})),"refreshDeps"),l.a.createElement("p",null,"\u5f53\u67d0\u4e9b ",l.a.createElement("code",null,"state")," \u53d8\u5316\u65f6\uff0c\u6211\u4eec\u9700\u8981\u91cd\u65b0\u6267\u884c\u5f02\u6b65\u8bf7\u6c42\uff0c\u4e00\u822c\u6211\u4eec\u4f1a\u8fd9\u6837\u5199\u4ee3\u7801\uff1a"),l.a.createElement(c.a,{code:"const [userId, setUserId] = useState('1');\nconst { data, run, loading } = useRequest(()=> getUserSchool(userId));\nuseEffect(() => {\n  run();\n}, [userId]);\n",lang:"javascript"}),l.a.createElement("p",null,l.a.createElement("code",null,"refreshDeps")," \u662f\u4e00\u4e2a\u8bed\u6cd5\u7cd6\uff0c\u8ba9\u4f60\u66f4\u65b9\u4fbf\u7684\u5b9e\u73b0\u4e0a\u9762\u7684\u529f\u80fd\u3002\u5f53 ",l.a.createElement("code",null,"refreshDeps")," \u53d8\u5316\u65f6\uff0c\u4f1a\u4f7f\u7528\u4e4b\u524d\u7684 ",l.a.createElement("code",null,"params")," \u91cd\u65b0\u6267\u884c\u3002")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import { useAsync } from 'rc-hooks';\nimport React, { useState } from 'react';\n\nconst userSchool = (id: string) => {\n  switch (id) {\n    case '1':\n      return 'Tsinghua University';\n    case '2':\n      return 'Beijing University';\n    case '3':\n      return 'Zhejiang University';\n    default:\n      return '';\n  }\n};\n\nasync function getUserSchool(userId: string): Promise<string> {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(userSchool(userId));\n    }, 1000);\n  });\n}\n\nexport default () => {\n  const [userId, setUserId] = useState('1');\n  const { data, loading } = useAsync(() => getUserSchool(userId), {\n    refreshDeps: [userId],\n  });\n\n  return (\n    <div>\n      <select\n        onChange={(e) => setUserId(e.target.value)}\n        value={userId}\n        style={{ marginBottom: 16, width: 120 }}\n      >\n        <option value=\"1\">user 1</option>\n        <option value=\"2\">user 2</option>\n        <option value=\"3\">user 3</option>\n      </select>\n      <p>School: {loading ? 'loading' : data}</p>\n    </div>\n  );\n};\n",jsx:"import { useAsync } from 'rc-hooks';\nimport React, { useState } from 'react';\n\nconst userSchool = (id) => {\n  switch (id) {\n    case '1':\n      return 'Tsinghua University';\n\n    case '2':\n      return 'Beijing University';\n\n    case '3':\n      return 'Zhejiang University';\n\n    default:\n      return '';\n  }\n};\n\nasync function getUserSchool(userId) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(userSchool(userId));\n    }, 1000);\n  });\n}\n\nexport default () => {\n  const [userId, setUserId] = useState('1');\n  const { data, loading } = useAsync(() => getUserSchool(userId), {\n    refreshDeps: [userId],\n  });\n  return (\n    <div>\n      <select\n        onChange={(e) => setUserId(e.target.value)}\n        value={userId}\n        style={{\n          marginBottom: 16,\n          width: 120,\n        }}\n      >\n        <option value=\"1\">user 1</option>\n        <option value=\"2\">user 2</option>\n        <option value=\"3\">user 3</option>\n      </select>\n      <p>School: {loading ? 'loading' : data}</p>\n    </div>\n  );\n};\n"}},{path:"/_demos/refresh-deps",title:"refreshDeps",desc:'<div class="markdown"><p>\u5f53 <code>options.refreshDeps</code> \u53d8\u5316\u65f6\uff0c\u4e14 <code>options.autoRun=true</code>\uff0c <code>useAsync</code> \u4f1a\u4f7f\u7528\u4e4b\u524d\u7684\u53c2\u6570\u91cd\u65b0\u6267\u884c\u3002</p></div>',dependencies:{"rc-hooks":"0.8.2"},files:{}}),l.a.createElement(b,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h3",{id:"\u5e76\u884c\u8bf7\u6c42"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u5e76\u884c\u8bf7\u6c42"},l.a.createElement("span",{className:"icon icon-link"})),"\u5e76\u884c\u8bf7\u6c42")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React from \"react\";\nimport { Button, message } from 'antd';\nimport { useAsync } from 'rc-hooks';\n\nfunction deleteUser(userId: string): Promise<{ success: boolean }> {\n  console.log(userId);\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve({ success: true });\n    }, 1000);\n  });\n}\n\nfunction DeleteButton({ id, username }) {\n  const { run, loading } = useAsync(deleteUser, {\n    autoRun: false,\n    onSuccess: (result) => {\n      if (result.success) {\n        message.success(`Delete user ${username}`);\n      }\n    }\n  });\n\n  return <Button loading={loading} onClick={() => { run(id) }}>delete {username}</Button>\n}\n\nexport default () => {\n  const users = [{ id: '1', username: 'A' }, { id: '2', username: 'B' }, { id: '3', username: 'C' }];\n\n  return (\n    <div>\n      <div>You can click all buttons, each request has its own status.</div>\n      <ul>\n        {users.map((user => (\n          <li key={user.id} style={{ marginTop: 8 }}>\n            <DeleteButton {...user} />\n          </li>\n        )))}\n      </ul>\n    </div>\n  );\n}",jsx:"import React from 'react';\nimport { Button, message } from 'antd';\nimport { useAsync } from 'rc-hooks';\n\nfunction deleteUser(userId) {\n  console.log(userId);\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        success: true,\n      });\n    }, 1000);\n  });\n}\n\nfunction DeleteButton({ id, username }) {\n  const { run, loading } = useAsync(deleteUser, {\n    autoRun: false,\n    onSuccess: (result) => {\n      if (result.success) {\n        message.success(`Delete user ${username}`);\n      }\n    },\n  });\n  return (\n    <Button\n      loading={loading}\n      onClick={() => {\n        run(id);\n      }}\n    >\n      delete {username}\n    </Button>\n  );\n}\n\nexport default () => {\n  const users = [\n    {\n      id: '1',\n      username: 'A',\n    },\n    {\n      id: '2',\n      username: 'B',\n    },\n    {\n      id: '3',\n      username: 'C',\n    },\n  ];\n  return (\n    <div>\n      <div>You can click all buttons, each request has its own status.</div>\n      <ul>\n        {users.map((user) => (\n          <li\n            key={user.id}\n            style={{\n              marginTop: 8,\n            }}\n          >\n            <DeleteButton {...user} />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n"}},{path:"/_demos/parallel",title:"\u5e76\u884c\u8bf7\u6c42",desc:'<div class="markdown"><p>\u5c06\u6709\u8bf7\u6c42\u7684\u7ec4\u4ef6\u5355\u72ec\u5c01\u88c5\uff0c\u6bcf\u4e00\u4e2a\u8bf7\u6c42\u90fd\u6709\u72ec\u7acb\u7684\u72b6\u6001\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2"},files:{}}),l.a.createElement(k,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"api"},l.a.createElement("a",{"aria-hidden":"true",href:"#api"},l.a.createElement("span",{className:"icon icon-link"})),"API"),l.a.createElement(c.a,{code:"const {\n  data,\n  error,\n  loading,\n  params,\n  run,\n  cancel,\n  refresh,\n  mutate\n} = useAsync(asyncFn, {\n  autoRun,\n  initialData,\n  defaultParams,\n  formatResult,\n  refreshDeps,\n  onSuccess,\n  onError,\n  cacheKey,\n  cacheTime,\n  persisted,\n  loadingDelay,\n  pollingInterval,\n  pollingWhenHidden,\n  refreshOnWindowFocus,\n  focusTimespan,\n  debounceInterval,\n  throttleInterval,\n});\n",lang:"javascript"}),l.a.createElement("h3",{id:"result"},l.a.createElement("a",{"aria-hidden":"true",href:"#result"},l.a.createElement("span",{className:"icon icon-link"})),"Result"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"data"),l.a.createElement("td",null,"\u5f02\u6b65\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff0c\u9ed8\u8ba4\u4e3a ",l.a.createElement("code",null,"undefined"),"\u3002"),l.a.createElement("td",null,l.a.createElement("code",null,"any"))),l.a.createElement("tr",null,l.a.createElement("td",null,"error"),l.a.createElement("td",null,"\u5f02\u6b65\u51fd\u6570\u629b\u51fa\u7684\u5f02\u5e38\uff0c\u9ed8\u8ba4\u4e3a ",l.a.createElement("code",null,"undefined")),l.a.createElement("td",null,l.a.createElement("code",null,"any"))),l.a.createElement("tr",null,l.a.createElement("td",null,"loading"),l.a.createElement("td",null,"\u5f02\u6b65\u51fd\u6570\u6b63\u5728\u6267\u884c"),l.a.createElement("td",null,l.a.createElement("code",null,"boolean"))),l.a.createElement("tr",null,l.a.createElement("td",null,"params"),l.a.createElement("td",null,"\u6267\u884c\u5f02\u6b65\u51fd\u6570\u7684\u53c2\u6570\u6570\u7ec4\u3002\u6bd4\u5982\u4f60\u89e6\u53d1\u4e86 ",l.a.createElement("code",null,"run(1, 2, 3)"),"\uff0c\u5219 ",l.a.createElement("code",null,"params")," \u7b49\u4e8e ",l.a.createElement("code",null,"[1, 2, 3]")),l.a.createElement("td",null,l.a.createElement("code",null,"array"))),l.a.createElement("tr",null,l.a.createElement("td",null,"run"),l.a.createElement("td",null,"\u624b\u52a8\u89e6\u53d1\u5f02\u6b65\u51fd\u6570\u3002",l.a.createElement("code",null,"debounce")," \u6a21\u5f0f\u4e0e ",l.a.createElement("code",null,"throttle")," \u6a21\u5f0f\u8fd4\u56de\u503c\u4e3a ",l.a.createElement("code",null,"Promise<null>")),l.a.createElement("td",null,l.a.createElement("code",null,"(...args) => Promise"))),l.a.createElement("tr",null,l.a.createElement("td",null,"cancel"),l.a.createElement("td",null,"\u53d6\u6d88\u5f53\u524d\u8bf7\u6c42\u3002\u5982\u679c\u6709\u8f6e\u8be2\uff0c\u505c\u6b62\u3002"),l.a.createElement("td",null,l.a.createElement("code",null,"() => void"))),l.a.createElement("tr",null,l.a.createElement("td",null,"refresh"),l.a.createElement("td",null,"\u4f7f\u7528\u4e0a\u4e00\u6b21\u7684 ",l.a.createElement("code",null,"params"),"\uff0c\u91cd\u65b0\u6267\u884c\u5f02\u6b65\u51fd\u6570\u3002"),l.a.createElement("td",null,l.a.createElement("code",null,"() => Promise"))),l.a.createElement("tr",null,l.a.createElement("td",null,"mutate"),l.a.createElement("td",null,"\u76f4\u63a5\u4fee\u6539 ",l.a.createElement("code",null,"data")),l.a.createElement("td",null,l.a.createElement("code",null,"(newData) => void")," / ",l.a.createElement("code",null,"((oldData) => newData) => void"))))),l.a.createElement("h3",{id:"params"},l.a.createElement("a",{"aria-hidden":"true",href:"#params"},l.a.createElement("span",{className:"icon icon-link"})),"Params"),l.a.createElement("p",null,"\u6240\u6709\u914d\u7f6e\u9879\u90fd\u662f\u53ef\u9009\u7684\u3002"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"),l.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"autoRun"),l.a.createElement("td",null,"\u9ed8\u8ba4 ",l.a.createElement("code",null,"true"),"\u3002\u5373\u5728\u521d\u59cb\u5316\u65f6\u81ea\u52a8\u6267\u884c\u5f02\u6b65\u51fd\u6570\u3002\u5982\u679c\u8bbe\u7f6e\u4e3a ",l.a.createElement("code",null,"false"),"\uff0c\u5219\u9700\u8981\u624b\u52a8\u8c03\u7528 ",l.a.createElement("code",null,"run")," \u89e6\u53d1\u6267\u884c\u3002"),l.a.createElement("td",null,l.a.createElement("code",null,"boolean")),l.a.createElement("td",null,l.a.createElement("code",null,"true"))),l.a.createElement("tr",null,l.a.createElement("td",null,"initialData"),l.a.createElement("td",null,"\u9ed8\u8ba4\u7684 ",l.a.createElement("code",null,"data"),"\u3002"),l.a.createElement("td",null,l.a.createElement("code",null,"any")),l.a.createElement("td",null,"-")),l.a.createElement("tr",null,l.a.createElement("td",null,"defaultParams"),l.a.createElement("td",null,"\u5982\u679c ",l.a.createElement("code",null,"autoRun=true")," \u81ea\u52a8\u6267\u884c ",l.a.createElement("code",null,"run")," \u7684\u9ed8\u8ba4\u53c2\u6570\u3002"),l.a.createElement("td",null,l.a.createElement("code",null,"array")),l.a.createElement("td",null,"-")),l.a.createElement("tr",null,l.a.createElement("td",null,"formatResult"),l.a.createElement("td",null,"\u683c\u5f0f\u5316\u8bf7\u6c42\u7ed3\u679c"),l.a.createElement("td",null,l.a.createElement("code",null,"(data) => any")),l.a.createElement("td",null,"-")),l.a.createElement("tr",null,l.a.createElement("td",null,"refreshDeps"),l.a.createElement("td",null,"\u5728 ",l.a.createElement("code",null,"autoRun = true")," \u65f6\uff0c",l.a.createElement("code",null,"refreshDeps")," \u53d8\u5316\uff0c\u4f1a\u89e6\u53d1\u91cd\u65b0\u6267\u884c"),l.a.createElement("td",null,l.a.createElement("code",null,"any[]")),l.a.createElement("td",null,l.a.createElement("code",null,"[]"))),l.a.createElement("tr",null,l.a.createElement("td",null,"onSuccess"),l.a.createElement("td",null,"\u5f02\u6b65\u51fd\u6570 ",l.a.createElement("code",null,"resolve")," \u65f6\u89e6\u53d1\uff0c\u53c2\u6570\u4e3a ",l.a.createElement("code",null,"data")," \u548c ",l.a.createElement("code",null,"params"),"\u3002"),l.a.createElement("td",null,l.a.createElement("code",null,"(data, params) => void")),l.a.createElement("td",null,"-")),l.a.createElement("tr",null,l.a.createElement("td",null,"onError"),l.a.createElement("td",null,"\u5f02\u6b65\u51fd\u6570\u62a5\u9519\u65f6\u89e6\u53d1\uff0c\u53c2\u6570\u4e3a ",l.a.createElement("code",null,"error")," \u548c ",l.a.createElement("code",null,"params")),l.a.createElement("td",null,l.a.createElement("code",null,"(error, parmams) => void")),l.a.createElement("td",null,"-")),l.a.createElement("tr",null,l.a.createElement("td",null,"cacheKey"),l.a.createElement("td",null,"\u7f13\u5b58\u7684\u952e\u503c\uff0c\u542f\u7528\u7f13\u5b58\u673a\u5236\u3002\u5f02\u6b65\u6210\u529f\u7ed3\u679c\uff0c\u5c06\u88ab\u7f13\u5b58\u3002"),l.a.createElement("td",null,l.a.createElement("code",null,"string")),l.a.createElement("td",null,"-")),l.a.createElement("tr",null,l.a.createElement("td",null,"cacheTime"),l.a.createElement("td",null,"\u7f13\u5b58\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2\u3002"),l.a.createElement("td",null,l.a.createElement("code",null,"number")),l.a.createElement("td",null,l.a.createElement("code",null,"5*60*1000"))),l.a.createElement("tr",null,l.a.createElement("td",null,"persisted"),l.a.createElement("td",null,"\u6301\u4e45\u5316\u6570\u636e\u3002\u5f53\u6709\u7f13\u5b58\u6570\u636e\u65f6\uff0c\u4e0d\u518d\u6267\u884c\u5f02\u6b65\u51fd\u6570\u3002\u9700\u8981\u914d\u5408 ",l.a.createElement("code",null,"cacheKey")," ",l.a.createElement("code",null,"cacheTime")," \u4f7f\u7528\u3002"),l.a.createElement("td",null,l.a.createElement("code",null,"boolean")),l.a.createElement("td",null,l.a.createElement("code",null,"false"))),l.a.createElement("tr",null,l.a.createElement("td",null,"loadingDelay"),l.a.createElement("td",null,"\u8bbe\u7f6e ",l.a.createElement("code",null,"loading")," \u5ef6\u8fdf\u65f6\u95f4\uff0c\u907f\u514d\u95ea\u70c1\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2\u3002"),l.a.createElement("td",null,l.a.createElement("code",null,"number")),l.a.createElement("td",null,"-")),l.a.createElement("tr",null,l.a.createElement("td",null,"pollingInterval"),l.a.createElement("td",null,"\u8f6e\u8be2\u95f4\u9694\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2\u3002\u8bbe\u7f6e\u540e\uff0c\u5c06\u8fdb\u5165\u8f6e\u8be2\u6a21\u5f0f\uff0c\u5b9a\u65f6\u89e6\u53d1 ",l.a.createElement("code",null,"run")),l.a.createElement("td",null,l.a.createElement("code",null,"number")),l.a.createElement("td",null,"-")),l.a.createElement("tr",null,l.a.createElement("td",null,"pollingWhenHidden"),l.a.createElement("td",null,"\u5728\u9875\u9762\u9690\u85cf\u65f6\uff0c\u662f\u5426\u7ee7\u7eed\u8f6e\u8be2\u3002\u9ed8\u8ba4\u4e3a ",l.a.createElement("code",null,"true"),"\uff0c\u5373\u4e0d\u4f1a\u505c\u6b62\u8f6e\u8be2",l.a.createElement("br",null),"\u5982\u679c\u8bbe\u7f6e\u4e3a ",l.a.createElement("code",null,"false"),"\uff0c\u5728\u9875\u9762\u9690\u85cf\u65f6\u4f1a\u6682\u65f6\u505c\u6b62\u8f6e\u8be2\uff0c\u9875\u9762\u91cd\u65b0\u663e\u793a\u65f6\u7ee7\u7eed\u4e0a\u6b21\u8f6e\u8be2"),l.a.createElement("td",null,l.a.createElement("code",null,"boolean")),l.a.createElement("td",null,"true")),l.a.createElement("tr",null,l.a.createElement("td",null,"refreshOnWindowFocus"),l.a.createElement("td",null,"\u5728\u5c4f\u5e55\u91cd\u65b0\u83b7\u53d6\u7126\u70b9\u6216\u91cd\u65b0\u663e\u793a\u65f6\uff0c\u662f\u5426\u91cd\u65b0\u53d1\u8d77\u8bf7\u6c42\u3002\u9ed8\u8ba4\u4e3a ",l.a.createElement("code",null,"false"),"\uff0c\u5373\u4e0d\u4f1a\u91cd\u65b0\u53d1\u8d77\u8bf7\u6c42\u3002",l.a.createElement("br",null),"\u5982\u679c\u8bbe\u7f6e\u4e3a ",l.a.createElement("code",null,"true"),"\uff0c\u5728\u5c4f\u5e55\u91cd\u65b0\u805a\u7126\u6216\u91cd\u65b0\u663e\u793a\u65f6\uff0c\u4f1a\u91cd\u65b0\u53d1\u8d77\u8bf7\u6c42\u3002"),l.a.createElement("td",null,l.a.createElement("code",null,"boolean")),l.a.createElement("td",null,l.a.createElement("code",null,"false"))),l.a.createElement("tr",null,l.a.createElement("td",null,"focusTimespan"),l.a.createElement("td",null,"\u5c4f\u5e55\u91cd\u65b0\u805a\u7126\uff0c\u5982\u679c\u6bcf\u6b21\u90fd\u91cd\u65b0\u53d1\u8d77\u8bf7\u6c42\uff0c\u4e0d\u662f\u5f88\u597d\uff0c\u6211\u4eec\u9700\u8981\u6709\u4e00\u4e2a\u65f6\u95f4\u95f4\u9694\uff0c\u5728\u5f53\u524d\u65f6\u95f4\u95f4\u9694\u5185\uff0c\u4e0d\u4f1a\u91cd\u65b0\u53d1\u8d77\u8bf7\u6c42\u3002\u9700\u8981\u914d\u7f6e ",l.a.createElement("code",null,"refreshOnWindowFocus")," \u4f7f\u7528\u3002"),l.a.createElement("td",null,l.a.createElement("code",null,"number")),l.a.createElement("td",null,l.a.createElement("code",null,"5000"))),l.a.createElement("tr",null,l.a.createElement("td",null,"debounceInterval"),l.a.createElement("td",null,"\u9632\u6296\u95f4\u9694, \u5355\u4f4d\u4e3a\u6beb\u79d2\uff0c\u8bbe\u7f6e\u540e\uff0c\u8bf7\u6c42\u8fdb\u5165\u9632\u6296\u6a21\u5f0f\u3002"),l.a.createElement("td",null,l.a.createElement("code",null,"number")),l.a.createElement("td",null,"-")),l.a.createElement("tr",null,l.a.createElement("td",null,"throttleInterval"),l.a.createElement("td",null,"\u8282\u6d41\u95f4\u9694, \u5355\u4f4d\u4e3a\u6beb\u79d2\uff0c\u8bbe\u7f6e\u540e\uff0c\u8bf7\u6c42\u8fdb\u5165\u8282\u6d41\u6a21\u5f0f\u3002"),l.a.createElement("td",null,l.a.createElement("code",null,"number")),l.a.createElement("td",null,"-")))),l.a.createElement("h2",{id:"\u6269\u5c55\u7528\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u6269\u5c55\u7528\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u6269\u5c55\u7528\u6cd5"),l.a.createElement("p",null,"\u57fa\u4e8e\u57fa\u7840\u7684 ",l.a.createElement("code",null,"useAsync"),"\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5c01\u88c5\uff0c\u5b9e\u73b0\u66f4\u9ad8\u7ea7\u7684\u5b9a\u5236\u9700\u6c42\u3002\u4e0b\u9762\u6f14\u793a ",l.a.createElement("code",null,"\u5206\u9875")," \u548c ",l.a.createElement("code",null,"\u52a0\u8f7d\u66f4\u591a")," \u4e24\u79cd\u573a\u666f\uff0c\u4f60\u53ef\u4ee5\u53c2\u8003\u4ee3\u7801\uff0c\u6839\u636e\u4e1a\u52a1\u5b9e\u73b0\u81ea\u5df1\u7684\u5c01\u88c5\u3002"),l.a.createElement("p",null,"\u8be5\u573a\u666f\u4ee5\u4e0b\u9762\u7684 ",l.a.createElement("code",null,"\u8bf7\u6c42\u53c2\u6570")," \u548c ",l.a.createElement("code",null,"\u54cd\u5e94\u6570\u636e")," \u683c\u5f0f\u4e3a\u793a\u4f8b"),l.a.createElement("p",null,"\u8bf7\u6c42\u53c2\u6570\uff1a"),l.a.createElement(c.a,{code:"{\n  pageNum: number,\n  pageSize: number,\n  // ...other params\n}\n",lang:"typescript"}),l.a.createElement("p",null,"\u54cd\u5e94\u6570\u636e\uff1a"),l.a.createElement(c.a,{code:"{\n  total: number,\n  data: []\n}\n",lang:"typescript"}),l.a.createElement("h3",{id:"\u5206\u9875"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u5206\u9875"},l.a.createElement("span",{className:"icon icon-link"})),"\u5206\u9875"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u81ea\u52a8\u7ba1\u7406\u5206\u9875\u6570\u636e"),l.a.createElement("li",null,"\u7f13\u5b58\u5f53\u524d\u67e5\u8be2\u6761\u4ef6\uff0c\u81ea\u52a8\u643a\u5e26\u5f53\u524d\u67e5\u8be2\u6761\u4ef6\u89e6\u53d1\u8bf7\u6c42"),l.a.createElement("li",null,l.a.createElement("code",null,"run")," \u65b9\u6cd5\u5982\u679c\u5e26\u6709\u53c2\u6570\uff0c\u8868\u793a\u4fee\u6539\u4e86\u67e5\u8be2\u6761\u4ef6\uff0c\u5c06\u4f1a\u91cd\u7f6e\u5f53\u524d\u9875\u7801\u4e3a ",l.a.createElement("code",null,"1"),"\uff0c\u5e76\u89e6\u53d1\u8bf7\u6c42"),l.a.createElement("li",null,l.a.createElement("code",null,"refresh")," \u81ea\u52a8\u5e26\u5165\u5f53\u524d\u53c2\u6570\u5e76\u89e6\u53d1\u8bf7\u6c42"),l.a.createElement("li",null,l.a.createElement("code",null,"onTableChange")," \u5206\u9875\u3001\u6392\u5e8f\u3001\u7b5b\u9009\u53d8\u5316\u65f6\u89e6\u53d1")),l.a.createElement("h4",{id:"usepagination"},l.a.createElement("a",{"aria-hidden":"true",href:"#usepagination"},l.a.createElement("span",{className:"icon icon-link"})),"usePagination")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React from 'react';\nimport { List, Pagination } from 'antd';\nimport usePagination from './hooks/usePagination';\n\nimport getUserList from './services/getUserList';\n\nexport default () => {\n  const { data, loading, pagination, onTableChange } = usePagination(getUserList);\n\n  return (\n    <div>\n      <List\n        dataSource={data || []}\n        loading={loading}\n        renderItem={(item: { name: string, email: string }) => (\n          <List.Item>\n            {item.name} - {item.email}\n          </List.Item>\n        )}\n      />\n      <Pagination\n        {...pagination}\n        onChange={(current, pageSize) => onTableChange({ current, pageSize })}\n        onShowSizeChange={(current, pageSize) => onTableChange({ current, pageSize })}\n        style={{ marginTop: 16, textAlign: 'right' }}\n      />\n    </div>\n  );\n};\n",jsx:"import React from 'react';\nimport { List, Pagination } from 'antd';\nimport usePagination from './hooks/usePagination';\nimport getUserList from './services/getUserList';\nexport default () => {\n  const { data, loading, pagination, onTableChange } = usePagination(getUserList);\n  return (\n    <div>\n      <List\n        dataSource={data || []}\n        loading={loading}\n        renderItem={(item) => (\n          <List.Item>\n            {item.name} - {item.email}\n          </List.Item>\n        )}\n      />\n      <Pagination\n        {...pagination}\n        onChange={(current, pageSize) =>\n          onTableChange({\n            current,\n            pageSize,\n          })\n        }\n        onShowSizeChange={(current, pageSize) =>\n          onTableChange({\n            current,\n            pageSize,\n          })\n        }\n        style={{\n          marginTop: 16,\n          textAlign: 'right',\n        }}\n      />\n    </div>\n  );\n};\n"}},{path:"/_demos/pagination1",title:"\u666e\u901a\u5206\u9875",CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2",mockjs:"1.1.0"},files:{"hooks/usePagination.ts":{path:"./hooks/usePagination",content:"import { useState, useEffect, useCallback, useRef } from 'react';\nimport { useAsync } from 'rc-hooks';\nimport { AsyncFn, AsyncParams, AsyncResult } from 'rc-hooks/types/useAsync';\nimport { SorterResult, TableCurrentDataSource } from 'antd/es/table/interface';\n\ntype Text = number | string;\ntype RecordText = Record<Text, any>;\ninterface AsyncFnReturn<D = any> extends RecordText {\n  data: D[];\n  total?: number;\n};\n\n// \u663e\u793a\u6570\u636e\u603b\u91cf\nconst showTotal = (num: Text) => `\u5171 ${num} \u6761\u6570\u636e`;\n\ninterface ParamsRef {\n  params: any;\n  filters?: Record<string, (string | number)[] | null>;\n  sorter?: SorterResult<RecordText> | SorterResult<RecordText>[];\n  extra?: TableCurrentDataSource<RecordText>;\n}\n\ninterface Options<D = any, P = any> extends AsyncParams<D, P> {\n  defaultPageSize?: number;\n}\n\ninterface ReturnValues<RecordType = any> extends Omit<AsyncResult<AsyncFnReturn<RecordType>>, 'data'> {\n  data: AsyncFnReturn<RecordType>['data'];\n  onTableChange: (\n    params: ParamsRef['params'],\n    filters?: ParamsRef['filters'],\n    sorter?: ParamsRef['sorter'],\n    extra?: ParamsRef['extra']\n  ) => Promise<AsyncFnReturn<RecordType>>;\n  pagination: {\n    total: number;\n    current: number;\n    pageSize: number;\n    showTotal: typeof showTotal;\n    showSizeChanger: boolean;\n    showQuickJumper: boolean;\n  } & RecordText;\n}\n\nfunction usePagination<RecordType = any, P = any>(\n  asyncFn: AsyncFn<AsyncFnReturn<RecordType>>,\n  {\n    defaultPageSize = 10,\n    autoRun,\n    onSuccess = () => { },\n    ...restOptions\n  }: Options<AsyncFnReturn<RecordType>, P> = {}): ReturnValues<RecordType> {\n  const [data, setData] = useState([]);\n\n  const pageRef = useRef({\n    current: 1,\n    pageSize: defaultPageSize || 10,\n    total: 0,\n  }); // \u5206\u9875\n  const paramsRef = useRef<ParamsRef>({\n    params: {},\n    filters: null,\n    sorter: null,\n    extra: null\n  }); // \u8bf7\u6c42\u53c2\u6570\uff0c\u8fd9\u91cc\u4e0d\u4f7f\u7528 useAsync \u7f13\u5b58params\uff0c\u56e0\u4e3a\u91cc\u9762\u53ef\u80fd\u5305\u542b\u4e86\u5206\u9875\u6570\u636e\n\n  const request = useAsync<AsyncFnReturn<RecordType>, P>(asyncFn, {\n    ...restOptions,\n    autoRun: false,\n    onSuccess: (res, params) => {\n      pageRef.current.total = res.total || 0;\n      setData(res.data || []);\n\n      if (typeof onSuccess === 'function') {\n        onSuccess(res, params);\n      }\n    },\n  });\n\n  const run = useCallback(\n    (params?: any) => {\n      // \u5982\u679c\u67e5\u8be2\u53c2\u6570\u53d8\u5316\uff0c\u91cd\u7f6e\u53c2\u6570\u548c\u5206\u9875\n      if (params) {\n        paramsRef.current.params = params;\n        pageRef.current.current = 1;\n      }\n      const { pageSize, current } = pageRef.current;\n      const { params: paramsRet, filters, sorter, extra } = paramsRef.current;\n\n      return request.run({ ...paramsRet, pageSize, current }, filters, sorter, extra);\n    },\n    [data],\n  );\n\n  const refresh = useCallback(() => {\n    return run();\n  }, []);\n\n  // \u4fee\u6539\u5206\u9875\u3001\u7b5b\u9009\u3001\u6392\u5e8f\n  const onTableChange = useCallback((pagination, filters, sorter, extra) => {\n    pageRef.current = {\n      ...pageRef.current,\n      ...pagination,\n    };\n    paramsRef.current = {\n      ...paramsRef.current,\n      filters,\n      sorter,\n      extra,\n    };\n    return run();\n  }, []);\n\n  useEffect(() => {\n    if (typeof autoRun === 'undefined' || autoRun) {\n      run();\n    }\n  }, []);\n\n  return {\n    ...request,\n    run,\n    refresh,\n    data,\n    onTableChange,\n    pagination: {\n      showTotal,\n      showSizeChanger: true,\n      showQuickJumper: true,\n      ...pageRef.current,\n    },\n  };\n};\n\nexport default usePagination;\n"},"services/getUserList.js":{path:"./services/getUserList",content:"import Mock from 'mockjs';\n\nconst userList = ({ pageNum, pageSize, ...restParams }) => (\n  Mock.mock({\n    [`data|${pageSize}`]: [{\n      id: '@guid',\n      name: '@cname',\n      'gender|1': ['male', 'female'],\n      email: '@email',\n      disabled: false\n    }],\n    total: 25,\n    errCode: \"00\",\n    errMsg: \"\"\n  })\n)\n\nexport default function getUserList({current, pageSize}) {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve(userList({\n        pageNum: current,\n        pageSize\n      }))\n    }, 1000)\n  });\n}"}}}),l.a.createElement(w,null)),l.a.createElement("div",{className:"markdown"}),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React, { useCallback } from 'react';\nimport { Form, Input, Select, Button, Table } from 'antd';\nimport usePagination from './hooks/usePagination';\n\nimport getUserList from './services/getUserList';\nimport { useEffect } from 'react';\n\nconst formItemLayout = {\n  labelCol: { span: 4 },\n  wrapperCol: { span: 14 },\n};\n\nconst buttonItemLayout = {\n  wrapperCol: { offset: 4, span: 14 },\n};\n\nconst columns = [\n  {\n    title: 'name',\n    dataIndex: 'name',\n  },\n  {\n    title: 'email',\n    dataIndex: 'email',\n  },\n  {\n    title: 'id',\n    dataIndex: 'id'\n  },\n  {\n    title: 'gender',\n    dataIndex: 'gender'\n  },\n];\n\nexport default () => {\n  const { run, refresh, data=[], loading, pagination, onTableChange } = usePagination(getUserList, {\n    autoRun: false\n  });\n\n  const [form] = Form.useForm();\n\n  const handleReset = useCallback(() => {\n    form.resetFields();\n    form.submit();\n  }, []);\n\n  useEffect(() => {\n    form.submit();\n  }, []);\n\n  return (\n    <div>\n      <Form\n        {...formItemLayout}\n        form={form}\n        initialValues={{}}\n        onFinish={run}\n      >\n        <Form.Item label=\"name\" name=\"name\">\n          <Input placeholder=\"\u8bf7\u8f93\u5165\" />\n        </Form.Item>\n        <Form.Item label=\"gender\" name=\"gender\">\n          <Select placeholder=\"\u8bf7\u9009\u62e9\">\n            <Select.Option value=\"male\">male</Select.Option>\n            <Select.Option value=\"female\">female</Select.Option>\n          </Select>\n        </Form.Item>\n        <Form.Item {...buttonItemLayout}>\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\u67e5\u8be2</Button>\n          <Button onClick={handleReset} style={{ marginLeft: 16 }} disabled={loading}>\u91cd\u7f6e</Button>\n          <Button onClick={refresh} style={{ marginLeft: 16 }} disabled={loading}>\u5237\u65b0</Button>\n        </Form.Item>\n      </Form>\n      <Table\n        dataSource={data}\n        columns={columns}\n        pagination={pagination}\n        onChange={onTableChange}\n        loading={loading}\n        rowKey=\"id\"\n        bordered\n      />\n    </div>\n  );\n};\n",jsx:"import React, { useCallback } from 'react';\nimport { Form, Input, Select, Button, Table } from 'antd';\nimport usePagination from './hooks/usePagination';\nimport getUserList from './services/getUserList';\nimport { useEffect } from 'react';\nconst formItemLayout = {\n  labelCol: {\n    span: 4,\n  },\n  wrapperCol: {\n    span: 14,\n  },\n};\nconst buttonItemLayout = {\n  wrapperCol: {\n    offset: 4,\n    span: 14,\n  },\n};\nconst columns = [\n  {\n    title: 'name',\n    dataIndex: 'name',\n  },\n  {\n    title: 'email',\n    dataIndex: 'email',\n  },\n  {\n    title: 'id',\n    dataIndex: 'id',\n  },\n  {\n    title: 'gender',\n    dataIndex: 'gender',\n  },\n];\nexport default () => {\n  const { run, refresh, data = [], loading, pagination, onTableChange } = usePagination(\n    getUserList,\n    {\n      autoRun: false,\n    },\n  );\n  const [form] = Form.useForm();\n  const handleReset = useCallback(() => {\n    form.resetFields();\n    form.submit();\n  }, []);\n  useEffect(() => {\n    form.submit();\n  }, []);\n  return (\n    <div>\n      <Form {...formItemLayout} form={form} initialValues={{}} onFinish={run}>\n        <Form.Item label=\"name\" name=\"name\">\n          <Input placeholder=\"\u8bf7\u8f93\u5165\" />\n        </Form.Item>\n        <Form.Item label=\"gender\" name=\"gender\">\n          <Select placeholder=\"\u8bf7\u9009\u62e9\">\n            <Select.Option value=\"male\">male</Select.Option>\n            <Select.Option value=\"female\">female</Select.Option>\n          </Select>\n        </Form.Item>\n        <Form.Item {...buttonItemLayout}>\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\n            \u67e5\u8be2\n          </Button>\n          <Button\n            onClick={handleReset}\n            style={{\n              marginLeft: 16,\n            }}\n            disabled={loading}\n          >\n            \u91cd\u7f6e\n          </Button>\n          <Button\n            onClick={refresh}\n            style={{\n              marginLeft: 16,\n            }}\n            disabled={loading}\n          >\n            \u5237\u65b0\n          </Button>\n        </Form.Item>\n      </Form>\n      <Table\n        dataSource={data}\n        columns={columns}\n        pagination={pagination}\n        onChange={onTableChange}\n        loading={loading}\n        rowKey=\"id\"\n        bordered\n      />\n    </div>\n  );\n};\n"}},{path:"/_demos/pagination2",title:"\u67e5\u8be2\u8868\u5355\u548cAnt Table",CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2",mockjs:"1.1.0"},files:{"hooks/usePagination.ts":{path:"./hooks/usePagination",content:"import { useState, useEffect, useCallback, useRef } from 'react';\nimport { useAsync } from 'rc-hooks';\nimport { AsyncFn, AsyncParams, AsyncResult } from 'rc-hooks/types/useAsync';\nimport { SorterResult, TableCurrentDataSource } from 'antd/es/table/interface';\n\ntype Text = number | string;\ntype RecordText = Record<Text, any>;\ninterface AsyncFnReturn<D = any> extends RecordText {\n  data: D[];\n  total?: number;\n};\n\n// \u663e\u793a\u6570\u636e\u603b\u91cf\nconst showTotal = (num: Text) => `\u5171 ${num} \u6761\u6570\u636e`;\n\ninterface ParamsRef {\n  params: any;\n  filters?: Record<string, (string | number)[] | null>;\n  sorter?: SorterResult<RecordText> | SorterResult<RecordText>[];\n  extra?: TableCurrentDataSource<RecordText>;\n}\n\ninterface Options<D = any, P = any> extends AsyncParams<D, P> {\n  defaultPageSize?: number;\n}\n\ninterface ReturnValues<RecordType = any> extends Omit<AsyncResult<AsyncFnReturn<RecordType>>, 'data'> {\n  data: AsyncFnReturn<RecordType>['data'];\n  onTableChange: (\n    params: ParamsRef['params'],\n    filters?: ParamsRef['filters'],\n    sorter?: ParamsRef['sorter'],\n    extra?: ParamsRef['extra']\n  ) => Promise<AsyncFnReturn<RecordType>>;\n  pagination: {\n    total: number;\n    current: number;\n    pageSize: number;\n    showTotal: typeof showTotal;\n    showSizeChanger: boolean;\n    showQuickJumper: boolean;\n  } & RecordText;\n}\n\nfunction usePagination<RecordType = any, P = any>(\n  asyncFn: AsyncFn<AsyncFnReturn<RecordType>>,\n  {\n    defaultPageSize = 10,\n    autoRun,\n    onSuccess = () => { },\n    ...restOptions\n  }: Options<AsyncFnReturn<RecordType>, P> = {}): ReturnValues<RecordType> {\n  const [data, setData] = useState([]);\n\n  const pageRef = useRef({\n    current: 1,\n    pageSize: defaultPageSize || 10,\n    total: 0,\n  }); // \u5206\u9875\n  const paramsRef = useRef<ParamsRef>({\n    params: {},\n    filters: null,\n    sorter: null,\n    extra: null\n  }); // \u8bf7\u6c42\u53c2\u6570\uff0c\u8fd9\u91cc\u4e0d\u4f7f\u7528 useAsync \u7f13\u5b58params\uff0c\u56e0\u4e3a\u91cc\u9762\u53ef\u80fd\u5305\u542b\u4e86\u5206\u9875\u6570\u636e\n\n  const request = useAsync<AsyncFnReturn<RecordType>, P>(asyncFn, {\n    ...restOptions,\n    autoRun: false,\n    onSuccess: (res, params) => {\n      pageRef.current.total = res.total || 0;\n      setData(res.data || []);\n\n      if (typeof onSuccess === 'function') {\n        onSuccess(res, params);\n      }\n    },\n  });\n\n  const run = useCallback(\n    (params?: any) => {\n      // \u5982\u679c\u67e5\u8be2\u53c2\u6570\u53d8\u5316\uff0c\u91cd\u7f6e\u53c2\u6570\u548c\u5206\u9875\n      if (params) {\n        paramsRef.current.params = params;\n        pageRef.current.current = 1;\n      }\n      const { pageSize, current } = pageRef.current;\n      const { params: paramsRet, filters, sorter, extra } = paramsRef.current;\n\n      return request.run({ ...paramsRet, pageSize, current }, filters, sorter, extra);\n    },\n    [data],\n  );\n\n  const refresh = useCallback(() => {\n    return run();\n  }, []);\n\n  // \u4fee\u6539\u5206\u9875\u3001\u7b5b\u9009\u3001\u6392\u5e8f\n  const onTableChange = useCallback((pagination, filters, sorter, extra) => {\n    pageRef.current = {\n      ...pageRef.current,\n      ...pagination,\n    };\n    paramsRef.current = {\n      ...paramsRef.current,\n      filters,\n      sorter,\n      extra,\n    };\n    return run();\n  }, []);\n\n  useEffect(() => {\n    if (typeof autoRun === 'undefined' || autoRun) {\n      run();\n    }\n  }, []);\n\n  return {\n    ...request,\n    run,\n    refresh,\n    data,\n    onTableChange,\n    pagination: {\n      showTotal,\n      showSizeChanger: true,\n      showQuickJumper: true,\n      ...pageRef.current,\n    },\n  };\n};\n\nexport default usePagination;\n"},"services/getUserList.js":{path:"./services/getUserList",content:"import Mock from 'mockjs';\n\nconst userList = ({ pageNum, pageSize, ...restParams }) => (\n  Mock.mock({\n    [`data|${pageSize}`]: [{\n      id: '@guid',\n      name: '@cname',\n      'gender|1': ['male', 'female'],\n      email: '@email',\n      disabled: false\n    }],\n    total: 25,\n    errCode: \"00\",\n    errMsg: \"\"\n  })\n)\n\nexport default function getUserList({current, pageSize}) {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve(userList({\n        pageNum: current,\n        pageSize\n      }))\n    }, 1000)\n  });\n}"}}}),l.a.createElement(R,null)),l.a.createElement("div",{className:"markdown"}),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React from 'react';\nimport { Button, Table } from 'antd';\nimport usePagination from './hooks/usePagination';\n\nimport getUserList from './services/getUserList';\n\nexport default () => {\n  const { refresh, data, loading, pagination, onTableChange } = usePagination(getUserList);\n\n  const columns = [\n    {\n      title: 'name',\n      dataIndex: 'name',\n    },\n    {\n      title: 'email',\n      dataIndex: 'email',\n    },\n    {\n      title: 'id',\n      dataIndex: 'id',\n      sorter: true\n    },\n    {\n      title: 'gender',\n      dataIndex: 'gender',\n      filters: [\n        {\n          text: 'male',\n          value: 'male',\n        },\n        {\n          text: 'female',\n          value: 'female',\n        },\n      ]\n    },\n  ];\n\n  return (\n    <div>\n      <Button onClick={refresh} style={{ marginBottom: 16 }}>\u5237\u65b0</Button>\n      <Table\n        dataSource={data || []}\n        columns={columns}\n        pagination={pagination}\n        onChange={onTableChange}\n        loading={loading}\n        rowKey=\"id\"\n        bordered\n      />\n    </div>\n  );\n};\n",jsx:"import React from 'react';\nimport { Button, Table } from 'antd';\nimport usePagination from './hooks/usePagination';\nimport getUserList from './services/getUserList';\nexport default () => {\n  const { refresh, data, loading, pagination, onTableChange } = usePagination(getUserList);\n  const columns = [\n    {\n      title: 'name',\n      dataIndex: 'name',\n    },\n    {\n      title: 'email',\n      dataIndex: 'email',\n    },\n    {\n      title: 'id',\n      dataIndex: 'id',\n      sorter: true,\n    },\n    {\n      title: 'gender',\n      dataIndex: 'gender',\n      filters: [\n        {\n          text: 'male',\n          value: 'male',\n        },\n        {\n          text: 'female',\n          value: 'female',\n        },\n      ],\n    },\n  ];\n  return (\n    <div>\n      <Button\n        onClick={refresh}\n        style={{\n          marginBottom: 16,\n        }}\n      >\n        \u5237\u65b0\n      </Button>\n      <Table\n        dataSource={data || []}\n        columns={columns}\n        pagination={pagination}\n        onChange={onTableChange}\n        loading={loading}\n        rowKey=\"id\"\n        bordered\n      />\n    </div>\n  );\n};\n"}},{path:"/_demos/pagination3",title:"Ant Table",CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2",mockjs:"1.1.0"},files:{"hooks/usePagination.ts":{path:"./hooks/usePagination",content:"import { useState, useEffect, useCallback, useRef } from 'react';\nimport { useAsync } from 'rc-hooks';\nimport { AsyncFn, AsyncParams, AsyncResult } from 'rc-hooks/types/useAsync';\nimport { SorterResult, TableCurrentDataSource } from 'antd/es/table/interface';\n\ntype Text = number | string;\ntype RecordText = Record<Text, any>;\ninterface AsyncFnReturn<D = any> extends RecordText {\n  data: D[];\n  total?: number;\n};\n\n// \u663e\u793a\u6570\u636e\u603b\u91cf\nconst showTotal = (num: Text) => `\u5171 ${num} \u6761\u6570\u636e`;\n\ninterface ParamsRef {\n  params: any;\n  filters?: Record<string, (string | number)[] | null>;\n  sorter?: SorterResult<RecordText> | SorterResult<RecordText>[];\n  extra?: TableCurrentDataSource<RecordText>;\n}\n\ninterface Options<D = any, P = any> extends AsyncParams<D, P> {\n  defaultPageSize?: number;\n}\n\ninterface ReturnValues<RecordType = any> extends Omit<AsyncResult<AsyncFnReturn<RecordType>>, 'data'> {\n  data: AsyncFnReturn<RecordType>['data'];\n  onTableChange: (\n    params: ParamsRef['params'],\n    filters?: ParamsRef['filters'],\n    sorter?: ParamsRef['sorter'],\n    extra?: ParamsRef['extra']\n  ) => Promise<AsyncFnReturn<RecordType>>;\n  pagination: {\n    total: number;\n    current: number;\n    pageSize: number;\n    showTotal: typeof showTotal;\n    showSizeChanger: boolean;\n    showQuickJumper: boolean;\n  } & RecordText;\n}\n\nfunction usePagination<RecordType = any, P = any>(\n  asyncFn: AsyncFn<AsyncFnReturn<RecordType>>,\n  {\n    defaultPageSize = 10,\n    autoRun,\n    onSuccess = () => { },\n    ...restOptions\n  }: Options<AsyncFnReturn<RecordType>, P> = {}): ReturnValues<RecordType> {\n  const [data, setData] = useState([]);\n\n  const pageRef = useRef({\n    current: 1,\n    pageSize: defaultPageSize || 10,\n    total: 0,\n  }); // \u5206\u9875\n  const paramsRef = useRef<ParamsRef>({\n    params: {},\n    filters: null,\n    sorter: null,\n    extra: null\n  }); // \u8bf7\u6c42\u53c2\u6570\uff0c\u8fd9\u91cc\u4e0d\u4f7f\u7528 useAsync \u7f13\u5b58params\uff0c\u56e0\u4e3a\u91cc\u9762\u53ef\u80fd\u5305\u542b\u4e86\u5206\u9875\u6570\u636e\n\n  const request = useAsync<AsyncFnReturn<RecordType>, P>(asyncFn, {\n    ...restOptions,\n    autoRun: false,\n    onSuccess: (res, params) => {\n      pageRef.current.total = res.total || 0;\n      setData(res.data || []);\n\n      if (typeof onSuccess === 'function') {\n        onSuccess(res, params);\n      }\n    },\n  });\n\n  const run = useCallback(\n    (params?: any) => {\n      // \u5982\u679c\u67e5\u8be2\u53c2\u6570\u53d8\u5316\uff0c\u91cd\u7f6e\u53c2\u6570\u548c\u5206\u9875\n      if (params) {\n        paramsRef.current.params = params;\n        pageRef.current.current = 1;\n      }\n      const { pageSize, current } = pageRef.current;\n      const { params: paramsRet, filters, sorter, extra } = paramsRef.current;\n\n      return request.run({ ...paramsRet, pageSize, current }, filters, sorter, extra);\n    },\n    [data],\n  );\n\n  const refresh = useCallback(() => {\n    return run();\n  }, []);\n\n  // \u4fee\u6539\u5206\u9875\u3001\u7b5b\u9009\u3001\u6392\u5e8f\n  const onTableChange = useCallback((pagination, filters, sorter, extra) => {\n    pageRef.current = {\n      ...pageRef.current,\n      ...pagination,\n    };\n    paramsRef.current = {\n      ...paramsRef.current,\n      filters,\n      sorter,\n      extra,\n    };\n    return run();\n  }, []);\n\n  useEffect(() => {\n    if (typeof autoRun === 'undefined' || autoRun) {\n      run();\n    }\n  }, []);\n\n  return {\n    ...request,\n    run,\n    refresh,\n    data,\n    onTableChange,\n    pagination: {\n      showTotal,\n      showSizeChanger: true,\n      showQuickJumper: true,\n      ...pageRef.current,\n    },\n  };\n};\n\nexport default usePagination;\n"},"services/getUserList.js":{path:"./services/getUserList",content:"import Mock from 'mockjs';\n\nconst userList = ({ pageNum, pageSize, ...restParams }) => (\n  Mock.mock({\n    [`data|${pageSize}`]: [{\n      id: '@guid',\n      name: '@cname',\n      'gender|1': ['male', 'female'],\n      email: '@email',\n      disabled: false\n    }],\n    total: 25,\n    errCode: \"00\",\n    errMsg: \"\"\n  })\n)\n\nexport default function getUserList({current, pageSize}) {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve(userList({\n        pageNum: current,\n        pageSize\n      }))\n    }, 1000)\n  });\n}"}}}),l.a.createElement(S,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h4",{id:"api-1"},l.a.createElement("a",{"aria-hidden":"true",href:"#api-1"},l.a.createElement("span",{className:"icon icon-link"})),"API"),l.a.createElement(c.a,{code:"type AsyncFnReturn = {\n  data: any[]; \n  total?: number;\n};\n\nconst { \n  ...,\n  onTableChange, \n  pagination \n} = usePagination(asyncFn: (...param: any)=>Promise<AsyncFnReturn>, {\n  defaultPageSize\n});\n",lang:"unknown"}),l.a.createElement("h4",{id:"result-1"},l.a.createElement("a",{"aria-hidden":"true",href:"#result-1"},l.a.createElement("span",{className:"icon icon-link"})),"Result"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"onTableChange"),l.a.createElement("td",null,"\u5206\u9875\u3001\u6392\u5e8f\u3001\u7b5b\u9009\u53d8\u5316\u65f6\u89e6\u53d1"),l.a.createElement("td",null,l.a.createElement("code",null,"function(pagination, filters, sorter, extra: ","{"," currentDataSource: [], action: paginate")," | ",l.a.createElement("code",null,"sort")," | ",l.a.createElement("code",null,"filter ","}",")"))),l.a.createElement("tr",null,l.a.createElement("td",null,"pagination"),l.a.createElement("td",null,"\u5206\u9875\u6570\u636e ",l.a.createElement("code",null,"current")," ",l.a.createElement("code",null,"pageSize")," ",l.a.createElement("code",null,"total")," ",l.a.createElement("code",null,"showTotal")," ",l.a.createElement("code",null,"showSizeChanger")," ",l.a.createElement("code",null,"showQuickJumper")),l.a.createElement("td",null)))),l.a.createElement("h4",{id:"params-1"},l.a.createElement("a",{"aria-hidden":"true",href:"#params-1"},l.a.createElement("span",{className:"icon icon-link"})),"Params"),l.a.createElement("p",null,"\u5c06\u9ed8\u8ba4\u5206\u9875\u4e0e\u9ed8\u8ba4\u53c2\u6570\u63d0\u53d6\u51fa\u6765\uff0c\u4fbf\u4e8e\u5b9e\u73b0\u7f13\u5b58\u3002"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"),l.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"defaultPageSize"),l.a.createElement("td",null,"\u9ed8\u8ba4\u6bcf\u9875\u7684\u6570\u91cf"),l.a.createElement("td",null,l.a.createElement("code",null,"number")),l.a.createElement("td",null,l.a.createElement("code",null,"10"))))),l.a.createElement("h3",{id:"\u52a0\u8f7d\u66f4\u591a"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u52a0\u8f7d\u66f4\u591a"},l.a.createElement("span",{className:"icon icon-link"})),"\u52a0\u8f7d\u66f4\u591a"),l.a.createElement("ul",null,l.a.createElement("li",null,"\u81ea\u52a8\u7ba1\u7406\u5206\u9875\u6570\u636e"),l.a.createElement("li",null,"\u81ea\u52a8\u7ba1\u7406\u5217\u8868\u6570\u636e\uff0c\u8fd4\u56de\u7684\u6570\u636e ",l.a.createElement("code",null,"data")," \u5373\u4e3a\u5408\u5e76\u6570\u7ec4\u3002"),l.a.createElement("li",null,"\u9996\u6b21\u52a0\u8f7d\u9700\u901a\u8fc7\u8c03\u7528 ",l.a.createElement("code",null,"run"),"\uff0c\u5e76\u4f20\u5165\u9664\u5206\u9875\u5916\u7684\u67e5\u8be2\u53c2\u6570\u3002"),l.a.createElement("li",null,"\u52a0\u8f7d\u4e0b\u4e00\u9875 ",l.a.createElement("code",null,"loadMore")," \u6216 \u91cd\u65b0\u52a0\u8f7d ",l.a.createElement("code",null,"reload")," \u4f1a\u81ea\u52a8\u5e26\u5165\u4e4b\u524d\u53c2\u6570\uff0c\u5e76\u81ea\u52a8\u7ba1\u7406\u5206\u9875\u53c2\u6570\u3002"),l.a.createElement("li",null,l.a.createElement("code",null,"loadingMore")," \u4ec5\u5728\u975e\u9996\u9875\u52a0\u8f7d\u65f6\u4e3a ",l.a.createElement("code",null,"true")," \u3002"),l.a.createElement("li",null,l.a.createElement("code",null,"refresh")," \u548c ",l.a.createElement("code",null,"reload")," \u662f\u4e00\u6837\u7684\uff0c\u5c06\u4f1a\u91cd\u7f6e\u5f53\u524d\u9875\u7801\u4e3a ",l.a.createElement("code",null,"1"),"\uff0c\u5e76\u89e6\u53d1\u8bf7\u6c42\u3002")),l.a.createElement("h4",{id:"useloadmore"},l.a.createElement("a",{"aria-hidden":"true",href:"#useloadmore"},l.a.createElement("span",{className:"icon icon-link"})),"useLoadMore")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React, { useEffect } from 'react';\nimport { Button, Spin, List, Typography } from 'antd';\nimport useLoadMore from './hooks/useLoadMore';\n\nimport getUserList from './services/getUserList';\n\nexport default () => {\n  const { run, data, loading, loadingMore, done, loadMore } = useLoadMore(getUserList, {\n    defaultPageSize: 5,\n    autoRun: false\n  });\n\n  useEffect(() => {\n    run({ someParams: 1 });\n  }, []);\n\n  return (\n    <div>\n      <Spin spinning={loading && !loadingMore}>\n        <List\n          dataSource={data}\n          renderItem={(item: { id: string, name: string }) => (\n            <List.Item key={item.id}>\n              <Typography.Text mark>[{item.id}]</Typography.Text> {item.name}\n            </List.Item>\n          )}\n        />\n      </Spin>\n      <Button\n        onClick={loadMore}\n        loading={loadingMore}\n        disabled={done}\n      >\n        click to load more\n      </Button>\n    </div>\n  );\n};\n",jsx:"import React, { useEffect } from 'react';\nimport { Button, Spin, List, Typography } from 'antd';\nimport useLoadMore from './hooks/useLoadMore';\nimport getUserList from './services/getUserList';\nexport default () => {\n  const { run, data, loading, loadingMore, done, loadMore } = useLoadMore(getUserList, {\n    defaultPageSize: 5,\n    autoRun: false,\n  });\n  useEffect(() => {\n    run({\n      someParams: 1,\n    });\n  }, []);\n  return (\n    <div>\n      <Spin spinning={loading && !loadingMore}>\n        <List\n          dataSource={data}\n          renderItem={(item) => (\n            <List.Item key={item.id}>\n              <Typography.Text mark>[{item.id}]</Typography.Text> {item.name}\n            </List.Item>\n          )}\n        />\n      </Spin>\n      <Button onClick={loadMore} loading={loadingMore} disabled={done}>\n        click to load more\n      </Button>\n    </div>\n  );\n};\n"}},{path:"/_demos/load-more1",title:"\u57fa\u672c\u7528\u6cd5",desc:'<div class="markdown"><p>\u9996\u6b21\u52a0\u8f7d\u9700\u901a\u8fc7\u8c03\u7528 <code>run</code>\uff0c\u5e76\u4f20\u5165\u67e5\u8be2\u53c2\u6570\u3002</p>\n<p>\u52a0\u8f7d\u4e0b\u4e00\u9875 <code>loadMore</code> \u6216 \u91cd\u65b0\u52a0\u8f7d <code>reload</code> \u4f1a\u81ea\u52a8\u5e26\u5165\u4e4b\u524d\u53c2\u6570\u548c\u5206\u9875\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2",mockjs:"1.1.0"},files:{"hooks/useLoadMore.ts":{path:"./hooks/useLoadMore",content:"import { useState, useEffect, useCallback, useRef } from \"react\";\nimport { useAsync } from \"rc-hooks\";\nimport { AsyncFn, AsyncParams, AsyncResult } from 'rc-hooks/types/useAsync';\nimport useScrollToBottomLoad from \"./useScrollToBottomLoad\";\n\ninterface AsyncFnReturn<RecordType> extends Record<number | string, any> {\n  data: RecordType[];\n  total?: number;\n};\n\ninterface Options<RecordType = any, P = any> extends AsyncParams<RecordType, P> {\n  defaultPageSize?: number;\n  threshold?: number;\n  ref?: React.RefObject<HTMLDivElement | any> | null;\n  [key: string]: any;\n}\n\ninterface ReturnValues<RecordType = any> extends Omit<AsyncResult<AsyncFnReturn<RecordType>>, 'data'> {\n  data: AsyncFnReturn<RecordType>['data'];\n  reload: () => Promise<AsyncFnReturn<RecordType>>;\n  loadMore: () => Promise<AsyncFnReturn<RecordType>>;\n  loadingMore: boolean;\n  done: boolean;\n  pagination: {\n    total: number;\n    current: number;\n    pageSize: number;\n  }\n}\n\nfunction useLoadMore<RecordType = any, P = any>(asyncFn: AsyncFn<AsyncFnReturn<RecordType>>, {\n  defaultPageSize = 10,\n  threshold = 100,\n  ref,\n  ...restOptions\n}: Options<AsyncFnReturn<RecordType>, P> = {}): ReturnValues<RecordType> {\n  const [data, setData] = useState([]);\n  const [loadDone, setLoadDone] = useState(false); // \u662f\u5426\u5b8c\u6210\n\n  const pageRef = useRef({\n    current: 1,\n    pageSize: defaultPageSize,\n    total: 0\n  }); // \u5206\u9875\n  const paramsRef = useRef({}); // \u8bf7\u6c42\u53c2\u6570\uff0c\u8fd9\u91cc\u4e0d\u4f7f\u7528 useAsync \u7f13\u5b58params\uff0c\u56e0\u4e3a\u91cc\u9762\u53ef\u80fd\u5305\u542b\u4e86\u5206\u9875\u6570\u636e\n\n  const request = useAsync(asyncFn, {\n    ...restOptions,\n    autoRun: false,\n    onSuccess: (res, params) => {\n      // 1. \u8bbe\u7f6e\u5206\u9875\u548c\u6570\u636e\n      pageRef.current.total = res.total;\n      if (pageRef.current.current === 1) {\n        setData(res.data);\n      } else {\n        setData(d => d.concat(res.data));\n      }\n\n      if (pageRef.current.pageSize * pageRef.current.current >= pageRef.current.total) {\n        setLoadDone(true);\n      }\n\n      if (restOptions.onSuccess) {\n        restOptions.onSuccess(res, params)\n      }\n    },\n    onError: (error, params) => {\n      if (pageRef.current.current > 1) {\n        pageRef.current.current -= 1;\n      }\n      if (restOptions.onError) {\n        restOptions.onError(error, params)\n      }\n    }\n  });\n\n  const run = useCallback((params?: any) => {\n    if (params) {\n      paramsRef.current = params;\n      pageRef.current.current = 1;\n    }\n    const { pageSize, current } = pageRef.current;\n\n    // 2. \u4f20\u5165\u53c2\u6570\uff0c\u53d1\u8d77\u8bf7\u6c42\n    return request.run({\n      pageSize,\n      current,\n      ...paramsRef.current\n    });\n  }, []);\n\n  const cancel = useCallback(() => {\n    // \u52a0\u8f7d\u4e2d\u5e76\u4e14\u5f53\u524d\u9875\u7801\u5927\u4e8e\u7b2c\u4e00\u9875\uff0c\u9875\u7801\u81ea\u51cf\u4e00\n    if (request.loading && pageRef.current.current > 1) {\n      pageRef.current.current -= 1;\n    }\n    request.cancel();\n  }, []);\n\n  const loadMore = useCallback(() => {\n    if (request.loading || loadDone) {\n      return;\n    }\n    pageRef.current.current += 1;\n    return run();\n  }, []);\n\n  const reload = useCallback(() => {\n    setLoadDone(false);\n    cancel();\n    pageRef.current.current = 1;\n    return run();\n  }, []);\n\n  useScrollToBottomLoad({\n    ready: !request.loading && !loadDone,\n    ref,\n    onLoad: loadMore\n  });\n\n  useEffect(() => {\n    if (typeof restOptions.autoRun === 'undefined' || restOptions.autoRun) {\n      run();\n    }\n  }, []);\n\n  return {\n    ...request,\n    run,\n    refresh: reload,\n    cancel,\n    data,\n\n    reload,\n    loadMore,\n    loadingMore: request.loading && pageRef.current.current > 1,\n    done: loadDone,\n    pagination: pageRef.current\n  };\n}\n\nexport default useLoadMore;"},"useScrollToBottomLoad.ts":{path:"./useScrollToBottomLoad",content:"import { useEffect, useCallback } from 'react';\n\ninterface ScrollToLowerOptions {\n  ref?: React.RefObject<HTMLElement | any> | null;\n  threshold?: number;\n  ready?: boolean;\n  onLoad?: () => void;\n}\n\ntype UseScrollToBottomLoad = (options?: ScrollToLowerOptions) => void;\n\nconst useScrollToLower: UseScrollToBottomLoad = ({\n  ref,\n  threshold = 100,\n  ready = false,\n  onLoad = () => { }\n}) => {\n  const scrollMethod = useCallback(() => {\n    if (!ready) {\n      return;\n    }\n    if (ref.current.scrollHeight - ref.current.scrollTop <= ref.current.clientHeight + threshold) {\n      onLoad();\n    }\n  }, [ready, ref]);\n\n  useEffect(() => {\n    if (!ref || !ref.current) {\n      return () => { };\n    }\n\n    ref.current.addEventListener('scroll', scrollMethod);\n    return () => {\n      if (ref && ref.current) {\n        ref.current.removeEventListener('scroll', scrollMethod);\n      }\n    };\n  }, [scrollMethod]);\n}\n\nexport default useScrollToLower;"},"services/getUserList.js":{path:"./services/getUserList",content:"import Mock from 'mockjs';\n\nconst userList = ({ pageNum, pageSize, ...restParams }) => (\n  Mock.mock({\n    [`data|${pageSize}`]: [{\n      id: '@guid',\n      name: '@cname',\n      'gender|1': ['male', 'female'],\n      email: '@email',\n      disabled: false\n    }],\n    total: 25,\n    errCode: \"00\",\n    errMsg: \"\"\n  })\n)\n\nexport default function getUserList({current, pageSize}) {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve(userList({\n        pageNum: current,\n        pageSize\n      }))\n    }, 1000)\n  });\n}"}}}),l.a.createElement(C,null)),l.a.createElement("div",{className:"markdown"}),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import { Avatar, Button, List } from 'antd';\nimport React, { useRef, useEffect } from 'react';\nimport useLoadMore from './hooks/useLoadMore';\n\nimport getUserList from './services/getUserList';\n\nexport default () => {\n  const containerRef = useRef(null);\n  const { run, data, loading, loadingMore, reload, loadMore, done, pagination } = useLoadMore(getUserList, {\n    ref: containerRef,\n    autoRun: false\n  });\n\n  useEffect(() => {\n    run({ a: 1 });\n  }, []);\n\n  const renderFooter = () => (\n    <>\n      {!done && (\n        <Button onClick={loadMore} loading={loadingMore}>\n          {loadingMore ? 'Loading more' : 'Click to load more'}\n        </Button>\n      )}\n\n      {done && <span>No more data</span>}\n\n      <span style={{ float: 'right', fontSize: 12 }}>total: {pagination.total}</span>\n    </>\n  );\n\n  return (\n    <div ref={containerRef} style={{ height: 300, overflowY: 'auto' }}>\n      <List\n        header={\n          <Button onClick={reload} loading={loading}>\n            Reload\n          </Button>\n        }\n        footer={renderFooter()}\n        loading={loading}\n        bordered\n        dataSource={data}\n        renderItem={(item: { name: string }) => (\n          <List.Item>\n            <List.Item.Meta\n              avatar={\n                <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\n              }\n              title={<a>{item.name}</a>}\n              description=\"rc-hooks is a react hooks library\"\n            />\n          </List.Item>\n        )}\n      />\n    </div>\n  );\n};\n",jsx:"import { Avatar, Button, List } from 'antd';\nimport React, { useRef, useEffect } from 'react';\nimport useLoadMore from './hooks/useLoadMore';\nimport getUserList from './services/getUserList';\nexport default () => {\n  const containerRef = useRef(null);\n  const { run, data, loading, loadingMore, reload, loadMore, done, pagination } = useLoadMore(\n    getUserList,\n    {\n      ref: containerRef,\n      autoRun: false,\n    },\n  );\n  useEffect(() => {\n    run({\n      a: 1,\n    });\n  }, []);\n\n  const renderFooter = () => (\n    <>\n      {!done && (\n        <Button onClick={loadMore} loading={loadingMore}>\n          {loadingMore ? 'Loading more' : 'Click to load more'}\n        </Button>\n      )}\n\n      {done && <span>No more data</span>}\n\n      <span\n        style={{\n          float: 'right',\n          fontSize: 12,\n        }}\n      >\n        total: {pagination.total}\n      </span>\n    </>\n  );\n\n  return (\n    <div\n      ref={containerRef}\n      style={{\n        height: 300,\n        overflowY: 'auto',\n      }}\n    >\n      <List\n        header={\n          <Button onClick={reload} loading={loading}>\n            Reload\n          </Button>\n        }\n        footer={renderFooter()}\n        loading={loading}\n        bordered\n        dataSource={data}\n        renderItem={(item) => (\n          <List.Item>\n            <List.Item.Meta\n              avatar={\n                <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\n              }\n              title={<a>{item.name}</a>}\n              description=\"rc-hooks is a react hooks library\"\n            />\n          </List.Item>\n        )}\n      />\n    </div>\n  );\n};\n"}},{path:"/_demos/load-more2",title:"\u4e0a\u62c9\u52a0\u8f7d\u66f4\u591a",desc:'<div class="markdown"><p>\u5982\u679c <code>options</code> \u4e2d\u5b58\u5728 <code>ref</code> \uff0c\u5219\u5728\u6eda\u52a8\u5230\u5e95\u90e8\u65f6\uff0c\u81ea\u52a8\u89e6\u53d1 <code>loadMore</code> \u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2",mockjs:"1.1.0"},files:{"hooks/useLoadMore.ts":{path:"./hooks/useLoadMore",content:"import { useState, useEffect, useCallback, useRef } from \"react\";\nimport { useAsync } from \"rc-hooks\";\nimport { AsyncFn, AsyncParams, AsyncResult } from 'rc-hooks/types/useAsync';\nimport useScrollToBottomLoad from \"./useScrollToBottomLoad\";\n\ninterface AsyncFnReturn<RecordType> extends Record<number | string, any> {\n  data: RecordType[];\n  total?: number;\n};\n\ninterface Options<RecordType = any, P = any> extends AsyncParams<RecordType, P> {\n  defaultPageSize?: number;\n  threshold?: number;\n  ref?: React.RefObject<HTMLDivElement | any> | null;\n  [key: string]: any;\n}\n\ninterface ReturnValues<RecordType = any> extends Omit<AsyncResult<AsyncFnReturn<RecordType>>, 'data'> {\n  data: AsyncFnReturn<RecordType>['data'];\n  reload: () => Promise<AsyncFnReturn<RecordType>>;\n  loadMore: () => Promise<AsyncFnReturn<RecordType>>;\n  loadingMore: boolean;\n  done: boolean;\n  pagination: {\n    total: number;\n    current: number;\n    pageSize: number;\n  }\n}\n\nfunction useLoadMore<RecordType = any, P = any>(asyncFn: AsyncFn<AsyncFnReturn<RecordType>>, {\n  defaultPageSize = 10,\n  threshold = 100,\n  ref,\n  ...restOptions\n}: Options<AsyncFnReturn<RecordType>, P> = {}): ReturnValues<RecordType> {\n  const [data, setData] = useState([]);\n  const [loadDone, setLoadDone] = useState(false); // \u662f\u5426\u5b8c\u6210\n\n  const pageRef = useRef({\n    current: 1,\n    pageSize: defaultPageSize,\n    total: 0\n  }); // \u5206\u9875\n  const paramsRef = useRef({}); // \u8bf7\u6c42\u53c2\u6570\uff0c\u8fd9\u91cc\u4e0d\u4f7f\u7528 useAsync \u7f13\u5b58params\uff0c\u56e0\u4e3a\u91cc\u9762\u53ef\u80fd\u5305\u542b\u4e86\u5206\u9875\u6570\u636e\n\n  const request = useAsync(asyncFn, {\n    ...restOptions,\n    autoRun: false,\n    onSuccess: (res, params) => {\n      // 1. \u8bbe\u7f6e\u5206\u9875\u548c\u6570\u636e\n      pageRef.current.total = res.total;\n      if (pageRef.current.current === 1) {\n        setData(res.data);\n      } else {\n        setData(d => d.concat(res.data));\n      }\n\n      if (pageRef.current.pageSize * pageRef.current.current >= pageRef.current.total) {\n        setLoadDone(true);\n      }\n\n      if (restOptions.onSuccess) {\n        restOptions.onSuccess(res, params)\n      }\n    },\n    onError: (error, params) => {\n      if (pageRef.current.current > 1) {\n        pageRef.current.current -= 1;\n      }\n      if (restOptions.onError) {\n        restOptions.onError(error, params)\n      }\n    }\n  });\n\n  const run = useCallback((params?: any) => {\n    if (params) {\n      paramsRef.current = params;\n      pageRef.current.current = 1;\n    }\n    const { pageSize, current } = pageRef.current;\n\n    // 2. \u4f20\u5165\u53c2\u6570\uff0c\u53d1\u8d77\u8bf7\u6c42\n    return request.run({\n      pageSize,\n      current,\n      ...paramsRef.current\n    });\n  }, []);\n\n  const cancel = useCallback(() => {\n    // \u52a0\u8f7d\u4e2d\u5e76\u4e14\u5f53\u524d\u9875\u7801\u5927\u4e8e\u7b2c\u4e00\u9875\uff0c\u9875\u7801\u81ea\u51cf\u4e00\n    if (request.loading && pageRef.current.current > 1) {\n      pageRef.current.current -= 1;\n    }\n    request.cancel();\n  }, []);\n\n  const loadMore = useCallback(() => {\n    if (request.loading || loadDone) {\n      return;\n    }\n    pageRef.current.current += 1;\n    return run();\n  }, []);\n\n  const reload = useCallback(() => {\n    setLoadDone(false);\n    cancel();\n    pageRef.current.current = 1;\n    return run();\n  }, []);\n\n  useScrollToBottomLoad({\n    ready: !request.loading && !loadDone,\n    ref,\n    onLoad: loadMore\n  });\n\n  useEffect(() => {\n    if (typeof restOptions.autoRun === 'undefined' || restOptions.autoRun) {\n      run();\n    }\n  }, []);\n\n  return {\n    ...request,\n    run,\n    refresh: reload,\n    cancel,\n    data,\n\n    reload,\n    loadMore,\n    loadingMore: request.loading && pageRef.current.current > 1,\n    done: loadDone,\n    pagination: pageRef.current\n  };\n}\n\nexport default useLoadMore;"},"useScrollToBottomLoad.ts":{path:"./useScrollToBottomLoad",content:"import { useEffect, useCallback } from 'react';\n\ninterface ScrollToLowerOptions {\n  ref?: React.RefObject<HTMLElement | any> | null;\n  threshold?: number;\n  ready?: boolean;\n  onLoad?: () => void;\n}\n\ntype UseScrollToBottomLoad = (options?: ScrollToLowerOptions) => void;\n\nconst useScrollToLower: UseScrollToBottomLoad = ({\n  ref,\n  threshold = 100,\n  ready = false,\n  onLoad = () => { }\n}) => {\n  const scrollMethod = useCallback(() => {\n    if (!ready) {\n      return;\n    }\n    if (ref.current.scrollHeight - ref.current.scrollTop <= ref.current.clientHeight + threshold) {\n      onLoad();\n    }\n  }, [ready, ref]);\n\n  useEffect(() => {\n    if (!ref || !ref.current) {\n      return () => { };\n    }\n\n    ref.current.addEventListener('scroll', scrollMethod);\n    return () => {\n      if (ref && ref.current) {\n        ref.current.removeEventListener('scroll', scrollMethod);\n      }\n    };\n  }, [scrollMethod]);\n}\n\nexport default useScrollToLower;"},"services/getUserList.js":{path:"./services/getUserList",content:"import Mock from 'mockjs';\n\nconst userList = ({ pageNum, pageSize, ...restParams }) => (\n  Mock.mock({\n    [`data|${pageSize}`]: [{\n      id: '@guid',\n      name: '@cname',\n      'gender|1': ['male', 'female'],\n      email: '@email',\n      disabled: false\n    }],\n    total: 25,\n    errCode: \"00\",\n    errMsg: \"\"\n  })\n)\n\nexport default function getUserList({current, pageSize}) {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve(userList({\n        pageNum: current,\n        pageSize\n      }))\n    }, 1000)\n  });\n}"}}}),l.a.createElement(x,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h4",{id:"api-2"},l.a.createElement("a",{"aria-hidden":"true",href:"#api-2"},l.a.createElement("span",{className:"icon icon-link"})),"API"),l.a.createElement(c.a,{code:"const { \n  ...,\n  reload,\n  loadMore,\n  loadingMore,\n  done,\n  pagination\n} = useLoadMore(asyncFn, {\n  defaultPageSize,\n  threshold,\n  ref\n});\n",lang:"unknown"}),l.a.createElement("h4",{id:"result-2"},l.a.createElement("a",{"aria-hidden":"true",href:"#result-2"},l.a.createElement("span",{className:"icon icon-link"})),"Result"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"reload"),l.a.createElement("td",null,"\u89e6\u53d1\u91cd\u65b0\u52a0\u8f7d"),l.a.createElement("td",null,l.a.createElement("code",null,"() => void"))),l.a.createElement("tr",null,l.a.createElement("td",null,"loadMore"),l.a.createElement("td",null,"\u89e6\u53d1\u52a0\u8f7d\u66f4\u591a"),l.a.createElement("td",null,l.a.createElement("code",null,"() => void"))),l.a.createElement("tr",null,l.a.createElement("td",null,"loadingMore"),l.a.createElement("td",null,"\u662f\u5426\u6b63\u5728\u52a0\u8f7d\u66f4\u591a"),l.a.createElement("td",null,l.a.createElement("code",null,"boolean"))),l.a.createElement("tr",null,l.a.createElement("td",null,"done"),l.a.createElement("td",null,"\u662f\u5426\u52a0\u8f7d\u5b8c\u6210"),l.a.createElement("td",null,l.a.createElement("code",null,"boolean"))),l.a.createElement("tr",null,l.a.createElement("td",null,"pagination"),l.a.createElement("td",null,"\u5206\u9875\u6570\u636e ",l.a.createElement("code",null,"current")," ",l.a.createElement("code",null,"pageSize")," ",l.a.createElement("code",null,"total")),l.a.createElement("td",null)))),l.a.createElement("h4",{id:"params-2"},l.a.createElement("a",{"aria-hidden":"true",href:"#params-2"},l.a.createElement("span",{className:"icon icon-link"})),"Params"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"),l.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"defaultPageSize"),l.a.createElement("td",null,"\u9ed8\u8ba4\u6bcf\u9875\u7684\u6570\u91cf"),l.a.createElement("td",null,l.a.createElement("code",null,"number")),l.a.createElement("td",null,l.a.createElement("code",null,"10"))),l.a.createElement("tr",null,l.a.createElement("td",null,"threshold"),l.a.createElement("td",null,"\u4e0a\u62c9\u81ea\u52a8\u52a0\u8f7d\uff0c\u8ddd\u79bb\u5e95\u90e8\u8ddd\u79bb\u9608\u503c"),l.a.createElement("td",null,l.a.createElement("code",null,"number")),l.a.createElement("td",null,l.a.createElement("code",null,"100"))),l.a.createElement("tr",null,l.a.createElement("td",null,"ref"),l.a.createElement("td",null,"\u5bb9\u5668\u7684 ",l.a.createElement("code",null,"ref")," \uff0c\u5982\u679c\u5b58\u5728\uff0c\u5219\u5728\u6eda\u52a8\u5230\u5e95\u90e8\u65f6\uff0c\u81ea\u52a8\u89e6\u53d1 loadMore"),l.a.createElement("td",null,l.a.createElement("code",null,"Ref<HTMLElement>")),l.a.createElement("td",null,"-"))))))}},fCDR:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=t("tJVT"),l=t("q1tI"),o=t.n(l),c=t("aWgF");n["default"]=()=>{var e=Object(l["useState"])(0),n=Object(r["a"])(e,2),t=n[0],u=n[1],s=Object(l["useState"])(0),i=Object(r["a"])(s,2),d=i[0],m=i[1],p=Object(l["useState"])(0),f=Object(r["a"])(p,2),h=f[0],E=f[1];return Object(l["useLayoutEffect"])(()=>{m(e=>e+1)},[t]),Object(c["a"])(()=>(E(e=>e+1),()=>{}),[t]),o.a.createElement("div",null,o.a.createElement("p",null,"effectCount: ",d),o.a.createElement("p",null,"updateEffectCount: ",h),o.a.createElement("p",null,o.a.createElement(a["a"],{type:"primary",onClick:()=>u(e=>e+1)},"reRender")))}},ffFi:function(e,n,t){"use strict";t.r(n);t("5NDa");var a=t("5rEg"),r=t("tJVT"),l=t("q1tI"),o=t.n(l),c=t("CZNa");function u(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(l["useState"])(e),o=Object(r["a"])(a,2),u=o[0],s=o[1],i=Object(c["a"])(s,n,t),d=i.run;return Object(l["useEffect"])(()=>{d(e)},[e]),u}var s=u;n["default"]=()=>{var e=Object(l["useState"])(""),n=Object(r["a"])(e,2),t=n[0],c=n[1],u=s(t,500);return o.a.createElement("div",null,o.a.createElement(a["a"],{value:t,onChange:e=>c(e.target.value),placeholder:"Typed value",style:{width:280}}),o.a.createElement("p",{style:{marginTop:16}},"throttledValue: ",u))}},gql7:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),r=t.n(a),l=(t("B2uJ"),t("+su7"),t("qOys")),o=t.n(l);t("5Yjd");n["default"]=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h1",{id:"rc-hooks"},r.a.createElement("a",{"aria-hidden":"true",href:"#rc-hooks"},r.a.createElement("span",{className:"icon icon-link"})),"rc-hooks"),r.a.createElement("p",null,r.a.createElement("a",{href:"https://npmjs.com/package/rc-hooks",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://img.shields.io/npm/v/rc-hooks.svg",alt:"npm"}),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))),r.a.createElement("p",null,"React Hooks Library. "),r.a.createElement("p",null,r.a.createElement("a",{href:"https://doly-dev.github.io/rc-hooks/site/",target:"_blank",rel:"noopener noreferrer"},"\u67e5\u770b\u6587\u6863\u548c\u793a\u4f8b",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))),r.a.createElement("h2",{id:"\u5b89\u88c5"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u5b89\u88c5"},r.a.createElement("span",{className:"icon icon-link"})),"\u5b89\u88c5"),r.a.createElement(o.a,{code:"npm install rc-hooks\n# or\nyarn add rc-hooks\n",lang:"shell"}),r.a.createElement("h2",{id:"\u4f7f\u7528"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u4f7f\u7528"},r.a.createElement("span",{className:"icon icon-link"})),"\u4f7f\u7528"),r.a.createElement(o.a,{code:'import { useAsync } from "rc-hooks";\n',lang:"javascript"}),r.a.createElement("h2",{id:"api"},r.a.createElement("a",{"aria-hidden":"true",href:"#api"},r.a.createElement("span",{className:"icon icon-link"})),"API"),r.a.createElement("ul",null,r.a.createElement("li",null,"Async",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://doly-dev.github.io/rc-hooks/site/#/async/use-async",target:"_blank",rel:"noopener noreferrer"},"useAsync",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," - \u7ba1\u7406\u5f02\u6b65\u51fd\u6570"))),r.a.createElement("li",null,"SideEffect",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://doly-dev.github.io/rc-hooks/site/#/side-effect/use-debounce",target:"_blank",rel:"noopener noreferrer"},"useDebounce",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," - \u7528\u6765\u5904\u7406\u9632\u6296\u503c"),r.a.createElement("li",null,r.a.createElement("a",{href:"https://doly-dev.github.io/rc-hooks/site/#/side-effect/use-throttle",target:"_blank",rel:"noopener noreferrer"},"useThrottle",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," - \u7528\u6765\u5904\u7406\u8282\u6d41\u503c"),r.a.createElement("li",null,r.a.createElement("a",{href:"https://doly-dev.github.io/rc-hooks/site/#/side-effect/use-debounce-fn",target:"_blank",rel:"noopener noreferrer"},"useDebounceFn",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," - \u7528\u6765\u5904\u7406\u9632\u6296\u51fd\u6570"),r.a.createElement("li",null,r.a.createElement("a",{href:"https://doly-dev.github.io/rc-hooks/site/#/side-effect/use-throttle-fn",target:"_blank",rel:"noopener noreferrer"},"useThrottleFn",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," - \u7528\u6765\u5904\u7406\u8282\u6d41\u51fd\u6570"))),r.a.createElement("li",null,"LifeCycle",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://doly-dev.github.io/rc-hooks/site/#/life-cycle/use-mount",target:"_blank",rel:"noopener noreferrer"},"useMount",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," - \u53ea\u5728\u7ec4\u4ef6 mount \u65f6\u6267\u884c"),r.a.createElement("li",null,r.a.createElement("a",{href:"https://doly-dev.github.io/rc-hooks/site/#/life-cycle/use-update",target:"_blank",rel:"noopener noreferrer"},"useUpdate",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," - \u5f3a\u5236\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3"),r.a.createElement("li",null,r.a.createElement("a",{href:"https://doly-dev.github.io/rc-hooks/site/#/life-cycle/use-unmount",target:"_blank",rel:"noopener noreferrer"},"useUnmount",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," - \u53ea\u5728\u7ec4\u4ef6 unmount \u65f6\u6267\u884c"),r.a.createElement("li",null,r.a.createElement("a",{href:"https://doly-dev.github.io/rc-hooks/site/#/life-cycle/use-update-effect",target:"_blank",rel:"noopener noreferrer"},"useUpdateEffect",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," - \u53ea\u5728\u4f9d\u8d56\u66f4\u65b0\u65f6\u6267\u884c\u7684 useEffect"),r.a.createElement("li",null,r.a.createElement("a",{href:"https://doly-dev.github.io/rc-hooks/site/#/life-cycle/use-update-layout-effect",target:"_blank",rel:"noopener noreferrer"},"useUpdateLayoutEffect",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," - \u53ea\u5728\u4f9d\u8d56\u66f4\u65b0\u65f6\u6267\u884c\u7684 useLayoutEffect"))),r.a.createElement("li",null,"Other",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://doly-dev.github.io/rc-hooks/site/#/other/use-previous",target:"_blank",rel:"noopener noreferrer"},"usePrevious",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," - \u4fdd\u5b58\u4e0a\u4e00\u6b21\u6e32\u67d3\u65f6\u72b6\u6001"),r.a.createElement("li",null,r.a.createElement("a",{href:"https://doly-dev.github.io/rc-hooks/site/#/other/use-persist-fn",target:"_blank",rel:"noopener noreferrer"},"usePersistFn",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," - \u6301\u4e45\u5316 function"),r.a.createElement("li",null,r.a.createElement("a",{href:"https://doly-dev.github.io/rc-hooks/site/#/other/use-client-rect",target:"_blank",rel:"noopener noreferrer"},"useClientRect",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," - \u83b7\u53d6\u5143\u7d20\u7684\u5927\u5c0f\u53ca\u5176\u76f8\u5bf9\u4e8e\u89c6\u53e3\u7684\u4f4d\u7f6e"))))))}},hmsE:function(e,n,t){"use strict";var a=t("q1tI"),r=()=>{};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,n=Object(a["useRef"])(()=>{throw new Error("Cannot call function while rendering.")});return n.current=e,Object(a["useCallback"])((function(){var e=n.current;return e(...arguments)}),[n])}n["a"]=l},jPpW:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=(t("T2oS"),t("W9HT")),l=t("q1tI"),o=t.n(l),c=t("sZDl"),u=t("luuv"),s=t.n(u);function i(){return new Promise(e=>{setTimeout(()=>{e(s.a.mock("@name"))},1e3)})}n["default"]=()=>{var e=Object(c["a"])(i,{pollingInterval:1e3,pollingWhenHidden:!1}),n=e.data,t=e.loading,l=e.run,u=e.cancel;return o.a.createElement(o.a.Fragment,null,o.a.createElement(r["a"],{spinning:t},o.a.createElement("p",null,"Username: ",n)),o.a.createElement(a["a"].Group,null,o.a.createElement(a["a"],{onClick:l},"start"),o.a.createElement(a["a"],{onClick:u},"stop")))}},jc3t:function(e,n,t){"use strict";t.r(n);var a=t("0Owb"),r=t("q1tI"),l=t.n(r),o=(t("B2uJ"),t("+su7"),t("qOys")),c=t.n(o),u=t("5Yjd"),s=t.n(u),i=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("o+z/")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"useprevious"},l.a.createElement("a",{"aria-hidden":"true",href:"#useprevious"},l.a.createElement("span",{className:"icon icon-link"})),"usePrevious"),l.a.createElement("p",null,"\u4fdd\u5b58\u4e0a\u4e00\u6b21\u6e32\u67d3\u65f6\u72b6\u6001\u7684 Hook\u3002"),l.a.createElement("blockquote",null,l.a.createElement("p",null,"\u53c2\u8003 ",l.a.createElement("a",{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-to-get-the-previous-props-or-state",target:"_blank",rel:"noopener noreferrer"},"\u5982\u4f55\u83b7\u53d6\u4e0a\u4e00\u8f6e\u7684 props \u6216 state\uff1f",l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},l.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),l.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}))))),l.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},l.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),l.a.createElement("h3",{id:"\u57fa\u672c\u7528\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u672c\u7528\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u7528\u6cd5")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:'import React, { useState } from "react";\nimport { usePrevious } from "rc-hooks";\n\nexport default () => {\n  const [value, setValue] = useState(0);\n  const prevValue = usePrevious(value);\n\n  const handleInput = (e) => {\n    setValue(e.target.value);\n  }\n\n  return (\n    <>\n      <p>Now: {value}</p>\n      <p>before: {prevValue}</p>\n      <input type="text" onInput={handleInput} />\n    </>\n  );\n}',jsx:"import React, { useState } from 'react';\nimport { usePrevious } from 'rc-hooks';\nexport default () => {\n  const [value, setValue] = useState(0);\n  const prevValue = usePrevious(value);\n\n  const handleInput = (e) => {\n    setValue(e.target.value);\n  };\n\n  return (\n    <>\n      <p>Now: {value}</p>\n      <p>before: {prevValue}</p>\n      <input type=\"text\" onInput={handleInput} />\n    </>\n  );\n};\n"}},{path:"/_demos/demo1-4",title:"\u57fa\u672c\u7528\u6cd5",desc:'<div class="markdown"><p>\u8bb0\u5f55\u4e0a\u6b21\u7684 value \u503c</p></div>',dependencies:{"rc-hooks":"0.8.2"},files:{}}),l.a.createElement(i,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"api"},l.a.createElement("a",{"aria-hidden":"true",href:"#api"},l.a.createElement("span",{className:"icon icon-link"})),"API"),l.a.createElement(c.a,{code:"const prevState = usePrevious(state: any);\n",lang:"javascript"}),l.a.createElement("h3",{id:"result"},l.a.createElement("a",{"aria-hidden":"true",href:"#result"},l.a.createElement("span",{className:"icon icon-link"})),"Result"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"prevState"),l.a.createElement("td",null,"\u4e0a\u6b21 state \u7684\u503c"),l.a.createElement("td",null,"-")))),l.a.createElement("h3",{id:"params"},l.a.createElement("a",{"aria-hidden":"true",href:"#params"},l.a.createElement("span",{className:"icon icon-link"})),"Params"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"),l.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"state"),l.a.createElement("td",null,"\u9700\u8981\u8bb0\u5f55\u53d8\u5316\u7684\u503c"),l.a.createElement("td",null,"-"),l.a.createElement("td",null,"-"))))))}},k2Hj:function(e,n,t){"use strict";t.r(n);var a=t("0Owb"),r=t("q1tI"),l=t.n(r),o=(t("B2uJ"),t("+su7"),t("qOys")),c=t.n(o),u=t("5Yjd"),s=t.n(u),i=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("x1Rt")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"usepersistfn"},l.a.createElement("a",{"aria-hidden":"true",href:"#usepersistfn"},l.a.createElement("span",{className:"icon icon-link"})),"usePersistFn"),l.a.createElement("p",null,"\u6301\u4e45\u5316 function \u7684 Hook\u3002"),l.a.createElement("blockquote",null,l.a.createElement("p",null,"\u53c2\u8003 ",l.a.createElement("a",{href:"https://zh-hans.reactjs.org/docs/hooks-faq.html#how-to-read-an-often-changing-value-from-usecallback",target:"_blank",rel:"noopener noreferrer"},"\u5982\u4f55\u4ece useCallback \u8bfb\u53d6\u4e00\u4e2a\u7ecf\u5e38\u53d8\u5316\u7684\u503c\uff1f",l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},l.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),l.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))),l.a.createElement("p",null,"\u5728\u67d0\u4e9b\u573a\u666f\u4e2d\uff0c\u4f60\u53ef\u80fd\u4f1a\u9700\u8981\u7528 useCallback \u8bb0\u4f4f\u4e00\u4e2a\u56de\u8c03\uff0c\u4f46\u7531\u4e8e\u5185\u90e8\u51fd\u6570\u5fc5\u987b\u7ecf\u5e38\u91cd\u65b0\u521b\u5efa\uff0c\u8bb0\u5fc6\u6548\u679c\u4e0d\u662f\u5f88\u597d\uff0c\u5bfc\u81f4\u5b50\u7ec4\u4ef6\u91cd\u590d render\u3002\u5bf9\u4e8e\u8d85\u7ea7\u590d\u6742\u7684\u5b50\u7ec4\u4ef6\uff0c\u91cd\u65b0\u6e32\u67d3\u4f1a\u5bf9\u6027\u80fd\u9020\u6210\u5f71\u54cd\u3002\u901a\u8fc7 usePersistFn\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u51fd\u6570\u5730\u5740\u6c38\u8fdc\u4e0d\u4f1a\u53d8\u5316\u3002")),l.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},l.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),l.a.createElement("h3",{id:"\u57fa\u672c\u7528\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u672c\u7528\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u7528\u6cd5")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React, { useState, useCallback, useRef } from 'react';\nimport { Button, message } from 'antd';\nimport { usePersistFn } from 'rc-hooks';\n\nexport default () => {\n  const [count, setCount] = useState(0);\n\n  const showCountPersistFn = usePersistFn(() => {\n    message.info(`Current count is ${count}`);\n  });\n\n  const showCountCommon = useCallback(\n    () => {\n      message.info(`Current count is ${count}`);\n    },\n    [count],\n  )\n\n  return (\n    <>\n      <Button onClick={() => { setCount(c => c + 1) }}>Add Count</Button>\n      <p>You can click the button to see the number of sub-component renderings</p>\n\n      <div style={{ marginTop: 32 }}>\n        <h4>Component with persist function:</h4>\n        {/* use persist function, ExpensiveTree component will only render once */}\n        <ExpensiveTree showCount={showCountPersistFn} />\n      </div>\n      <div style={{ marginTop: 32 }}>\n        <h4>Component without persist function:</h4>\n        {/* use persist function, ExpensiveTree component will only render once */}\n        <ExpensiveTree showCount={showCountCommon} />\n      </div>\n    </>\n  );\n};\n\ninterface ExpensiveTreeProp {\n  showCount: () => void;\n}\n\n// some expensive component with React.memo\nconst ExpensiveTree = React.memo(({ showCount }: ExpensiveTreeProp) => {\n  const renderCountRef = useRef(0);\n  renderCountRef.current += 1;\n\n  return (\n    <div>\n      <p>Render Count: {renderCountRef.current}</p>\n      <Button onClick={showCount}>showParentCount</Button>\n    </div>\n  )\n})",jsx:"import React, { useState, useCallback, useRef } from 'react';\nimport { Button, message } from 'antd';\nimport { usePersistFn } from 'rc-hooks';\nexport default () => {\n  const [count, setCount] = useState(0);\n  const showCountPersistFn = usePersistFn(() => {\n    message.info(`Current count is ${count}`);\n  });\n  const showCountCommon = useCallback(() => {\n    message.info(`Current count is ${count}`);\n  }, [count]);\n  return (\n    <>\n      <Button\n        onClick={() => {\n          setCount((c) => c + 1);\n        }}\n      >\n        Add Count\n      </Button>\n      <p>You can click the button to see the number of sub-component renderings</p>\n\n      <div\n        style={{\n          marginTop: 32,\n        }}\n      >\n        <h4>Component with persist function:</h4>\n        {/* use persist function, ExpensiveTree component will only render once */}\n        <ExpensiveTree showCount={showCountPersistFn} />\n      </div>\n      <div\n        style={{\n          marginTop: 32,\n        }}\n      >\n        <h4>Component without persist function:</h4>\n        {/* use persist function, ExpensiveTree component will only render once */}\n        <ExpensiveTree showCount={showCountCommon} />\n      </div>\n    </>\n  );\n};\n// some expensive component with React.memo\nconst ExpensiveTree = React.memo(({ showCount }) => {\n  const renderCountRef = useRef(0);\n  renderCountRef.current += 1;\n  return (\n    <div>\n      <p>Render Count: {renderCountRef.current}</p>\n      <Button onClick={showCount}>showParentCount</Button>\n    </div>\n  );\n});\n"}},{path:"/_demos/demo2-1",title:"\u57fa\u672c\u7528\u6cd5",desc:'<div class="markdown"><p>\u901a\u8fc7 usePersistFn, \u51fd\u6570\u5f15\u7528\u6c38\u8fdc\u4e0d\u4f1a\u53d8\u5316\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2"},files:{}}),l.a.createElement(i,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"api"},l.a.createElement("a",{"aria-hidden":"true",href:"#api"},l.a.createElement("span",{className:"icon icon-link"})),"API"),l.a.createElement(c.a,{code:"const fn = usePersistFn(fn: (...args: any) => any);\n",lang:"javascript"}),l.a.createElement("h3",{id:"result"},l.a.createElement("a",{"aria-hidden":"true",href:"#result"},l.a.createElement("span",{className:"icon icon-link"})),"Result"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"fn"),l.a.createElement("td",null,"\u5f15\u7528\u5730\u5740\u6c38\u8fdc\u4e0d\u4f1a\u53d8\u5316\u7684 fn"),l.a.createElement("td",null,l.a.createElement("code",null,"function"))))),l.a.createElement("h3",{id:"params"},l.a.createElement("a",{"aria-hidden":"true",href:"#params"},l.a.createElement("span",{className:"icon icon-link"})),"Params"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"),l.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"fn"),l.a.createElement("td",null,"\u9700\u8981\u6301\u4e45\u5316\u7684\u51fd\u6570"),l.a.createElement("td",null,l.a.createElement("code",null,"function")),l.a.createElement("td",null,"-"))))))}},kDkF:function(e,n,t){"use strict";t.r(n);t("g9YV");var a=t("wCAj"),r=(t("+L6B"),t("2/Rp")),l=t("q1tI"),o=t.n(l),c=t("q9+C"),u=t("y7Vn");n["default"]=()=>{var e=Object(c["a"])(u["a"]),n=e.refresh,t=e.data,l=e.loading,s=e.pagination,i=e.onTableChange,d=[{title:"name",dataIndex:"name"},{title:"email",dataIndex:"email"},{title:"id",dataIndex:"id",sorter:!0},{title:"gender",dataIndex:"gender",filters:[{text:"male",value:"male"},{text:"female",value:"female"}]}];return o.a.createElement("div",null,o.a.createElement(r["a"],{onClick:n,style:{marginBottom:16}},"\u5237\u65b0"),o.a.createElement(a["a"],{dataSource:t||[],columns:d,pagination:s,onChange:i,loading:l,rowKey:"id",bordered:!0}))}},kohQ:function(e,n,t){"use strict";t.r(n);var a=t("tJVT"),r=t("q1tI"),l=t.n(r);function o(){var e=Object(r["useState"])(null),n=Object(a["a"])(e,2),t=n[0],l=n[1],o=Object(r["useCallback"])(e=>{null!==e&&l(e.getBoundingClientRect())},[]);return[t,o]}var c=o;n["default"]=()=>{var e=c(),n=Object(a["a"])(e,2),t=n[0],r=n[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{ref:r},"Hello, world"),null!==t&&l.a.createElement("p",null,"rect value: ",JSON.stringify(t)))}},mGUu:function(e,n,t){"use strict";t.r(n);var a=t("0Owb"),r=t("q1tI"),l=t.n(r),o=(t("B2uJ"),t("+su7"),t("qOys")),c=t.n(o),u=t("5Yjd"),s=t.n(u),i=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("1+qD")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"usedebounce"},l.a.createElement("a",{"aria-hidden":"true",href:"#usedebounce"},l.a.createElement("span",{className:"icon icon-link"})),"useDebounce"),l.a.createElement("p",null,"\u7528\u6765\u5904\u7406\u9632\u6296\u503c\u7684 Hook\u3002"),l.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},l.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),l.a.createElement("h3",{id:"\u57fa\u672c\u7528\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u672c\u7528\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u7528\u6cd5")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import { Input } from 'antd';\nimport React, { useState } from 'react';\nimport { useDebounce } from 'rc-hooks';\n\nexport default () => {\n  const [value, setValue] = useState('');\n  const debouncedValue = useDebounce(value, 500);\n\n  return (\n    <div>\n      <Input\n        value={value}\n        onChange={e => setValue(e.target.value)}\n        placeholder=\"Typed value\"\n        style={{ width: 280 }}\n      />\n      <p style={{ marginTop: 16 }}>DebouncedValue: {debouncedValue}</p>\n    </div>\n  );\n};",jsx:"import { Input } from 'antd';\nimport React, { useState } from 'react';\nimport { useDebounce } from 'rc-hooks';\nexport default () => {\n  const [value, setValue] = useState('');\n  const debouncedValue = useDebounce(value, 500);\n  return (\n    <div>\n      <Input\n        value={value}\n        onChange={(e) => setValue(e.target.value)}\n        placeholder=\"Typed value\"\n        style={{\n          width: 280,\n        }}\n      />\n      <p\n        style={{\n          marginTop: 16,\n        }}\n      >\n        DebouncedValue: {debouncedValue}\n      </p>\n    </div>\n  );\n};\n"}},{path:"/_demos/demo1-1",title:"\u57fa\u672c\u7528\u6cd5",desc:'<div class="markdown"><p>debouncedValue \u53ea\u4f1a\u5728\u8f93\u5165\u7ed3\u675f 500ms \u540e\u53d8\u5316\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2"},files:{}}),l.a.createElement(i,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"api"},l.a.createElement("a",{"aria-hidden":"true",href:"#api"},l.a.createElement("span",{className:"icon icon-link"})),"API"),l.a.createElement(c.a,{code:"const debouncedValue = useDebounce(\n  value: any, \n  wait?: number, \n  options?: object\n);\n",lang:"javascript"}),l.a.createElement("h3",{id:"params"},l.a.createElement("a",{"aria-hidden":"true",href:"#params"},l.a.createElement("span",{className:"icon icon-link"})),"Params"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"),l.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"value"),l.a.createElement("td",null,"\u9700\u8981\u9632\u6296\u7684\u503c"),l.a.createElement("td",null,l.a.createElement("code",null,"any")),l.a.createElement("td",null,"-")),l.a.createElement("tr",null,l.a.createElement("td",null,"wait"),l.a.createElement("td",null,"\u9632\u6296\u7b49\u5f85\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2"),l.a.createElement("td",null,l.a.createElement("code",null,"number")),l.a.createElement("td",null,l.a.createElement("code",null,"0"))),l.a.createElement("tr",null,l.a.createElement("td",null,"options"),l.a.createElement("td",null,l.a.createElement("a",{href:"https://www.lodashjs.com/docs/latest#_debouncefunc-wait0-options",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("code",null,"lodash.debounce"),l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},l.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),l.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," \u7684 ",l.a.createElement("code",null,"options")," \u914d\u7f6e\u9879"),l.a.createElement("td",null,l.a.createElement("code",null,"object")),l.a.createElement("td",null,l.a.createElement("code",null,"{}")))))))}},mm5X:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=t("q1tI"),l=t.n(r),o=t("tJVT"),c=()=>{var e=Object(r["useState"])(0),n=Object(o["a"])(e,2),t=n[1];return Object(r["useCallback"])(()=>t(e=>e+1),[])},u=c;n["default"]=()=>{var e=u();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,"Time: ",Date.now()),l.a.createElement(a["a"],{onClick:e,style:{marginTop:16}},"update"))}},"o+z/":function(e,n,t){"use strict";t.r(n);var a=t("tJVT"),r=t("q1tI"),l=t.n(r);function o(e){var n=Object(r["useRef"])();return Object(r["useEffect"])(()=>{n.current=e}),n.current}n["default"]=()=>{var e=Object(r["useState"])(0),n=Object(a["a"])(e,2),t=n[0],c=n[1],u=o(t),s=e=>{c(e.target.value)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"Now: ",t),l.a.createElement("p",null,"before: ",u),l.a.createElement("input",{type:"text",onInput:s}))}},oWl0:function(e,n,t){"use strict";t.r(n);var a=t("0Owb"),r=t("q1tI"),l=t.n(r),o=(t("B2uJ"),t("+su7"),t("qOys")),c=t.n(o),u=t("5Yjd"),s=t.n(u),i=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("LtlN")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),d=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("+l7L")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"usedebouncefn"},l.a.createElement("a",{"aria-hidden":"true",href:"#usedebouncefn"},l.a.createElement("span",{className:"icon icon-link"})),"useDebounceFn"),l.a.createElement("p",null,"\u7528\u6765\u5904\u7406\u9632\u6296\u51fd\u6570\u7684 Hook\u3002"),l.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},l.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),l.a.createElement("h3",{id:"\u57fa\u672c\u7528\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u672c\u7528\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u7528\u6cd5")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport { Button } from 'antd';\nimport { useDebounceFn } from 'rc-hooks';\n\nexport default () => {\n  const [value, setValue] = useState(0);\n  const { run } = useDebounceFn(setValue, 500);\n\n  return (\n    <div>\n      <p style={{ marginTop: 16 }}> Clicked count: {value} </p>\n      <Button onClick={() => run(value + 1)}>Click fast!</Button>\n    </div>\n  );\n};",jsx:"import React, { useState } from 'react';\nimport { Button } from 'antd';\nimport { useDebounceFn } from 'rc-hooks';\nexport default () => {\n  const [value, setValue] = useState(0);\n  const { run } = useDebounceFn(setValue, 500);\n  return (\n    <div>\n      <p\n        style={{\n          marginTop: 16,\n        }}\n      >\n        {' '}\n        Clicked count: {value}{' '}\n      </p>\n      <Button onClick={() => run(value + 1)}>Click fast!</Button>\n    </div>\n  );\n};\n"}},{path:"/_demos/demo1-2",title:"\u57fa\u672c\u7528\u6cd5",desc:'<div class="markdown"><p>\u9891\u7e41\u8c03\u7528 run\uff0c\u4f46\u53ea\u4f1a\u5728\u6240\u6709\u70b9\u51fb\u5b8c\u6210 500ms \u540e\u6267\u884c\u4e00\u6b21\u76f8\u5173\u51fd\u6570</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2"},files:{}}),l.a.createElement(i,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h3",{id:"\u5bf9\u6bd4"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u5bf9\u6bd4"},l.a.createElement("span",{className:"icon icon-link"})),"\u5bf9\u6bd4")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport { Button, Input } from 'antd';\nimport { useDebounceFn } from 'rc-hooks';\n\nexport default () => {\n  const [value, setValue] = useState('');\n  const [debouncedValue, setDebouncedValue] = useState<string | undefined>();\n\n  const { run, cancel } = useDebounceFn(setDebouncedValue, 1000);\n\n  return (\n    <div>\n      <Input\n        value={value}\n        onChange={e => {\n          setValue(e.target.value);\n          run(e.target.value);\n        }}\n        placeholder=\"Typed value\"\n        style={{ width: 280 }}\n      />\n      <p style={{ margin: '16px 0' }}>\n        <Button onClick={cancel}>Cancel Debounce</Button>\n      </p>\n      <p>value: {value}</p>\n      <p>DebouncedValue: {debouncedValue}</p>\n    </div>\n  );\n};",jsx:"import React, { useState } from 'react';\nimport { Button, Input } from 'antd';\nimport { useDebounceFn } from 'rc-hooks';\nexport default () => {\n  const [value, setValue] = useState('');\n  const [debouncedValue, setDebouncedValue] = useState();\n  const { run, cancel } = useDebounceFn(setDebouncedValue, 1000);\n  return (\n    <div>\n      <Input\n        value={value}\n        onChange={(e) => {\n          setValue(e.target.value);\n          run(e.target.value);\n        }}\n        placeholder=\"Typed value\"\n        style={{\n          width: 280,\n        }}\n      />\n      <p\n        style={{\n          margin: '16px 0',\n        }}\n      >\n        <Button onClick={cancel}>Cancel Debounce</Button>\n      </p>\n      <p>value: {value}</p>\n      <p>DebouncedValue: {debouncedValue}</p>\n    </div>\n  );\n};\n"}},{path:"/_demos/demo2",title:"\u5bf9\u6bd4",desc:'<div class="markdown"><p>\u5f53 value \u53d8\u5316\u5b8c\u6210\u540e\uff0c\u4f1a\u5728 1000ms \u540e\u6267\u884c\u4e00\u6b21\u51fd\u6570\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2"},files:{}}),l.a.createElement(d,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"api"},l.a.createElement("a",{"aria-hidden":"true",href:"#api"},l.a.createElement("span",{className:"icon icon-link"})),"API"),l.a.createElement(c.a,{code:"const { run, cancel } = useDebounceFn(\n  fn: (...args: any) => any, \n  wait?: number, \n  options?: object\n);\n",lang:"javascript"}),l.a.createElement("h3",{id:"result"},l.a.createElement("a",{"aria-hidden":"true",href:"#result"},l.a.createElement("span",{className:"icon icon-link"})),"Result"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"run"),l.a.createElement("td",null,"\u89e6\u53d1\u6267\u884cfn\uff0c\u53c2\u6570\u4e5f\u4f1a\u4f20\u9012\u7ed9fn"),l.a.createElement("td",null)),l.a.createElement("tr",null,l.a.createElement("td",null,"cancel"),l.a.createElement("td",null,"\u53d6\u6d88\u5f53\u524d\u9632\u6296"),l.a.createElement("td",null)))),l.a.createElement("h3",{id:"params"},l.a.createElement("a",{"aria-hidden":"true",href:"#params"},l.a.createElement("span",{className:"icon icon-link"})),"Params"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"),l.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"fn"),l.a.createElement("td",null,"\u9700\u8981\u9632\u6296\u7684\u51fd\u6570"),l.a.createElement("td",null,l.a.createElement("code",null,"function")),l.a.createElement("td",null,l.a.createElement("code",null,"() => ","{}"))),l.a.createElement("tr",null,l.a.createElement("td",null,"wait"),l.a.createElement("td",null,"\u9632\u6296\u7b49\u5f85\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2"),l.a.createElement("td",null,l.a.createElement("code",null,"number")),l.a.createElement("td",null,l.a.createElement("code",null,"0"))),l.a.createElement("tr",null,l.a.createElement("td",null,"options"),l.a.createElement("td",null,l.a.createElement("a",{href:"https://www.lodashjs.com/docs/latest#_debouncefunc-wait0-options",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("code",null,"lodash.debounce"),l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},l.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),l.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," \u7684 ",l.a.createElement("code",null,"options")," \u914d\u7f6e\u9879"),l.a.createElement("td",null,l.a.createElement("code",null,"object")),l.a.createElement("td",null,l.a.createElement("code",null,"{}")))))))}},pqBg:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=(t("5NDa"),t("5rEg")),l=(t("miYZ"),t("tsqr")),o=t("tJVT"),c=t("q1tI"),u=t.n(c),s=t("sZDl");function i(e){return console.log(e),new Promise(e=>{setTimeout(()=>{e({success:!0})},1e3)})}n["default"]=()=>{var e=Object(c["useState"])(""),n=Object(o["a"])(e,2),t=n[0],d=n[1],m=Object(s["a"])(i,{autoRun:!1,onSuccess:(e,n)=>{e.success&&(d(""),l["a"].success('The username was changed to "'.concat(n[0],'" !')))}}),p=m.loading,f=m.run;return u.a.createElement("div",null,u.a.createElement(r["a"],{onChange:e=>d(e.target.value),value:t,placeholder:"Please enter username",style:{width:240,marginRight:16}}),u.a.createElement(a["a"],{onClick:()=>f(t),loading:p},"Edit"))}},"q/Fw":function(e,n,t){"use strict";var a=t("q1tI"),r=t("9/5/"),l=t.n(r),o=()=>{};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(a["useCallback"])(l()(e,n,t),[]);return Object(a["useEffect"])(()=>r.cancel,[]),{run:r,cancel:r.cancel}}n["a"]=c},"q9+C":function(e,n,t){"use strict";var a=t("k1fw"),r=t("tJVT"),l=t("PpiC"),o=t("q1tI"),c=t("sZDl"),u=e=>"\u5171 ".concat(e," \u6761\u6570\u636e");function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.defaultPageSize,s=void 0===t?10:t,i=n.autoRun,d=n.onSuccess,m=void 0===d?()=>{}:d,p=Object(l["a"])(n,["defaultPageSize","autoRun","onSuccess"]),f=Object(o["useState"])([]),h=Object(r["a"])(f,2),E=h[0],g=h[1],v=Object(o["useRef"])({current:1,pageSize:s||10,total:0}),y=Object(o["useRef"])({params:{},filters:null,sorter:null,extra:null}),b=Object(c["a"])(e,Object(a["a"])(Object(a["a"])({},p),{},{autoRun:!1,onSuccess:(e,n)=>{v.current.total=e.total||0,g(e.data||[]),"function"===typeof m&&m(e,n)}})),k=Object(o["useCallback"])(e=>{e&&(y.current.params=e,v.current.current=1);var n=v.current,t=n.pageSize,r=n.current,l=y.current,o=l.params,c=l.filters,u=l.sorter,s=l.extra;return b.run(Object(a["a"])(Object(a["a"])({},o),{},{pageSize:t,current:r}),c,u,s)},[E]),w=Object(o["useCallback"])(()=>k(),[]),R=Object(o["useCallback"])((e,n,t,r)=>(v.current=Object(a["a"])(Object(a["a"])({},v.current),e),y.current=Object(a["a"])(Object(a["a"])({},y.current),{},{filters:n,sorter:t,extra:r}),k()),[]);return Object(o["useEffect"])(()=>{("undefined"===typeof i||i)&&k()},[]),Object(a["a"])(Object(a["a"])({},b),{},{run:k,refresh:w,data:E,onTableChange:R,pagination:Object(a["a"])({showTotal:u,showSizeChanger:!0,showQuickJumper:!0},v.current)})}n["a"]=s},sZDl:function(e,n,t){"use strict";var a=t("k1fw"),r=t("tJVT"),l=t("q1tI"),o=t("9/5/"),c=t.n(o),u=t("hKI/"),s=t.n(u),i=t("hmsE"),d=t("aWgF");function m(){return"undefined"===typeof document||"undefined"===typeof document.visibilityState||"hidden"!==document.visibilityState}function p(){return"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine}var f={},h=3e5,E=e=>{var n=f[e];if(n){var t=n.startTime,a=n.cacheTime,r=n.data,l=(new Date).getTime();if(!(l-t>=a))return r;n.timer&&(clearTimeout(n.timer),n.timer=null,delete f[e])}},g=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;f[e]&&clearTimeout(f[e].timer);var a=setTimeout(()=>{delete f[e]},t);f[e]={data:n,timer:a,cacheTime:t,startTime:(new Date).getTime()}};function v(e,n){var t=!1;return function(){t||(t=!0,e(...arguments),setTimeout(()=>{t=!1},n))}}var y=[];function b(e){return y.push(e),function(){var n=y.indexOf(e);y.splice(n,1)}}var k=!1;if("undefined"!==typeof window&&window.addEventListener&&!k){var w=()=>{if(m()&&p())for(var e=0;e<y.length;e++){var n=y[e];n()}};window.addEventListener("visibilitychange",w,!1),window.addEventListener("focus",w,!1),k=!0}var R=b,S=[];function C(e){return S.push(e),function(){var n=S.indexOf(e);S.splice(n,1)}}var x=!1;if("undefined"!==typeof window&&window.addEventListener&&!x){var T=()=>{if(m())for(var e=0;e<S.length;e++){var n=S[e];n()}};window.addEventListener("visibilitychange",T,!1),x=!0}var j=C,O=()=>{};function P(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.autoRun,o=void 0===t||t,u=n.refreshDeps,p=void 0===u?[]:u,f=n.defaultParams,h=void 0===f?[]:f,y=n.defaultLoading,b=void 0!==y&&y,k=n.initialData,w=n.cacheKey,S=void 0===w?"":w,C=n.cacheTime,x=void 0===C?3e5:C,T=n.persisted,P=void 0!==T&&T,I=n.onSuccess,L=void 0===I?O:I,A=n.onError,B=void 0===A?O:A,D=n.formatResult,N=n.pollingInterval,F=void 0===N?0:N,M=n.pollingWhenHidden,q=void 0===M||M,U=n.refreshOnWindowFocus,_=void 0!==U&&U,z=n.focusTimespan,V=void 0===z?5e3:z,K=n.loadingDelay,H=n.debounceInterval,J=n.throttleInterval,Y=Object(l["useState"])({params:Array.isArray(h)?h:[h],loading:b,error:null,data:S?E(S):k}),W=Object(r["a"])(Y,2),Z=W[0],X=W[1],Q=Object(l["useRef"])(0),$=Object(l["useRef"])(null),G=Object(l["useRef"])(!1),ee=Object(l["useRef"])(null),ne=Object(l["useRef"])(!1),te=Object(l["useRef"])([]),ae=Object(i["a"])(e),re=Object(i["a"])(L),le=Object(i["a"])(B),oe=Object(l["useCallback"])((function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];$.current&&clearTimeout($.current),ee.current&&clearTimeout(ee.current),Q.current+=1;var r=Q.current,l=S?E(S):void 0;l&&P||(X(e=>Object(a["a"])(Object(a["a"])({},e),{},{loading:!K,params:n})),ee.current=K?setTimeout(()=>{X(e=>Object(a["a"])(Object(a["a"])({},e),{},{loading:!0}))},K):null);var o=()=>new Promise((e,t)=>{l&&P?ne.current||r!==Q.current||(re(l,n),e(l)):ae(...n).then(t=>{if(!ne.current&&r===Q.current){ee.current&&clearTimeout(ee.current);var l="function"===typeof D?D(t):t;X(e=>Object(a["a"])(Object(a["a"])({},e),{},{data:l,error:null,loading:!1})),S&&g(S,l,x),re(l,n),e(l)}}).catch(e=>{ne.current||r!==Q.current||(ee.current&&clearTimeout(ee.current),X(n=>Object(a["a"])(Object(a["a"])({},n),{},{error:e,loading:!1})),le(e,n),t(e))})});return o().finally(()=>{if(!ne.current&&r===Q.current&&F){if(!m()&&!q)return void(G.current=!0);$.current=setTimeout(()=>{se(...n)},F)}})}),[]),ce=Object(l["useRef"])(H?c()(oe,H):void 0),ue=Object(l["useRef"])(J?s()(oe,J):void 0),se=Object(l["useCallback"])((function(){return ce.current?(ce.current(...arguments),Promise.resolve(null)):ue.current?(ue.current(...arguments),Promise.resolve(null)):oe(...arguments)}),[]),ie=Object(l["useCallback"])(()=>se(...Z.params),[Z.params]),de=Object(l["useCallback"])(()=>{G.current&&(G.current=!1,ie())},[]),me=Object(l["useCallback"])(()=>{ce.current&&ce.current.cancel(),ue.current&&ue.current.cancel(),$.current&&clearTimeout($.current),ee.current&&clearTimeout(ee.current),G.current=!1,Q.current+=1,X(e=>Object(a["a"])(Object(a["a"])({},e),{},{loading:!1}))},[]);Object(d["a"])(()=>{o&&ie()},[...p]);var pe=e=>{X("function"===typeof e?n=>Object(a["a"])(Object(a["a"])({},n),{},{data:e(Z.data)}):n=>Object(a["a"])(Object(a["a"])({},n),{},{data:e}))};return Object(l["useEffect"])(()=>{if(o&&se(...Z.params),F&&te.current.push(j(de)),_){var e=v(ie,V);te.current.push(R(e))}return()=>{ne.current=!0,me(),te.current.forEach(e=>e())}},[]),Object(a["a"])(Object(a["a"])({},Z),{},{run:se,cancel:me,mutate:pe,refresh:ie})}n["a"]=P},tB8F:function(e,n,t){"use strict";t.r(n);var a=t("bCY9"),r=t("FfOG"),l=t("LtsZ"),o=t("zlVK"),c=t("k1fw");function u(){var e=[{path:"/_demos/default",component:t("LXqt").default,exact:!0},{path:"/_demos/auto-run",component:t("pqBg").default,exact:!0},{path:"/_demos/preload",component:t("F4wY").default,exact:!0},{path:"/_demos/persisted",component:t("QMn5").default,exact:!0},{path:"/_demos/refresh-on-window-focus",component:t("RoSt").default,exact:!0},{path:"/_demos/polling-interval",component:t("jPpW").default,exact:!0},{path:"/_demos/debounce-interval",component:t("GEXl").default,exact:!0},{path:"/_demos/throttle-interval",component:t("MeCQ").default,exact:!0},{path:"/_demos/mutate",component:t("wiD+").default,exact:!0},{path:"/_demos/loading-delay",component:t("2ppu").default,exact:!0},{path:"/_demos/refresh-deps",component:t("5fcZ").default,exact:!0},{path:"/_demos/parallel",component:t("C/Ph").default,exact:!0},{path:"/_demos/pagination1",component:t("F/lo").default,exact:!0},{path:"/_demos/pagination2",component:t("FSPR").default,exact:!0},{path:"/_demos/pagination3",component:t("kDkF").default,exact:!0},{path:"/_demos/load-more1",component:t("xzsK").default,exact:!0},{path:"/_demos/load-more2",component:t("vu5i").default,exact:!0},{path:"/_demos/demo1",component:t("kohQ").default,exact:!0},{path:"/_demos/demo1-1",component:t("1+qD").default,exact:!0},{path:"/_demos/demo1-2",component:t("LtlN").default,exact:!0},{path:"/_demos/demo2",component:t("+l7L").default,exact:!0},{path:"/_demos/demo1-3",component:t("4lX7").default,exact:!0},{path:"/_demos/demo2-1",component:t("x1Rt").default,exact:!0},{path:"/_demos/demo1-4",component:t("o+z/").default,exact:!0},{path:"/_demos/demo1-5",component:t("ffFi").default,exact:!0},{path:"/_demos/demo1-6",component:t("dFAH").default,exact:!0},{path:"/_demos/demo2-2",component:t("zTMO").default,exact:!0},{path:"/_demos/demo1-7",component:t("I0+J").default,exact:!0},{path:"/_demos/demo1-8",component:t("mm5X").default,exact:!0},{path:"/_demos/demo1-9",component:t("fCDR").default,exact:!0},{path:"/_demos/demo1-10",component:t("tZ56").default,exact:!0},{path:"/",component:e=>t("q1tI").createElement(t("09U7").default,Object(c["a"])(Object(c["a"])({},{menus:{"*":{"*":[{path:"/",title:"README",meta:{order:null}},{title:"Async",path:"/async",meta:{order:1},children:[{path:"/async/use-async",title:"useAsync",meta:{}}]},{title:"SideEffect",path:"/side-effect",meta:{order:2},children:[{path:"/side-effect/use-debounce",title:"useDebounce",meta:{}},{path:"/side-effect/use-debounce-fn",title:"useDebounceFn",meta:{}},{path:"/side-effect/use-throttle",title:"useThrottle",meta:{}},{path:"/side-effect/use-throttle-fn",title:"useThrottleFn",meta:{}}]},{title:"LifeCycle",path:"/life-cycle",meta:{order:3},children:[{path:"/life-cycle/use-mount",title:"useMount",meta:{}},{path:"/life-cycle/use-unmount",title:"useUnmount",meta:{}},{path:"/life-cycle/use-update",title:"useUpdate",meta:{}},{path:"/life-cycle/use-update-effect",title:"useUpdateEffect",meta:{}},{path:"/life-cycle/use-update-layout-effect",title:"useUpdateLayoutEffect",meta:{}}]},{title:"Other",path:"/other",meta:{order:4},children:[{path:"/other/use-client-rect",title:"useClientRect",meta:{}},{path:"/other/use-persist-fn",title:"usePersistFn",meta:{}},{path:"/other/use-previous",title:"usePrevious",meta:{}}]}]}},locales:[],navs:{},title:"rc-hooks",logo:"https://www.caijinfeng.com/assets/images/logo-doly@3x.png",mode:"doc",repoUrl:"https://github.com/doly-dev/rc-hooks"}),e)),routes:[{path:"/",component:t("gql7").default,exact:!0,meta:{locale:"zh-CN",title:"README",order:null},title:"README"},{path:"/async/use-async",component:t("eLKE").default,exact:!0,meta:{filePath:"src/useAsync/index.md",updatedTime:1609313035e3,title:"useAsync",group:{title:"Async",path:"/async",order:1},legacy:"/async/use-async",slugs:[{depth:1,value:"useAsync",heading:"useasync"},{depth:2,value:"\u4ee3\u7801\u6f14\u793a",heading:"\u4ee3\u7801\u6f14\u793a"},{depth:3,value:"\u9ed8\u8ba4\u8bf7\u6c42",heading:"\u9ed8\u8ba4\u8bf7\u6c42"},{depth:3,value:"\u624b\u52a8\u89e6\u53d1",heading:"\u624b\u52a8\u89e6\u53d1"},{depth:3,value:"\u7f13\u5b58 & \u9884\u52a0\u8f7d",heading:"\u7f13\u5b58--\u9884\u52a0\u8f7d"},{depth:3,value:"\u6301\u4e45\u5316\u6570\u636e",heading:"\u6301\u4e45\u5316\u6570\u636e"},{depth:3,value:"\u5c4f\u5e55\u805a\u7126\u91cd\u65b0\u8bf7\u6c42",heading:"\u5c4f\u5e55\u805a\u7126\u91cd\u65b0\u8bf7\u6c42"},{depth:3,value:"\u8f6e\u8be2",heading:"\u8f6e\u8be2"},{depth:3,value:"\u9632\u6296",heading:"\u9632\u6296"},{depth:3,value:"\u8282\u6d41",heading:"\u8282\u6d41"},{depth:3,value:"\u7a81\u53d8",heading:"\u7a81\u53d8"},{depth:3,value:"Loading Delay",heading:"loading-delay"},{depth:3,value:"refreshDeps",heading:"refreshdeps"},{depth:3,value:"\u5e76\u884c\u8bf7\u6c42",heading:"\u5e76\u884c\u8bf7\u6c42"},{depth:2,value:"API",heading:"api"},{depth:3,value:"Result",heading:"result"},{depth:3,value:"Params",heading:"params"},{depth:2,value:"\u6269\u5c55\u7528\u6cd5",heading:"\u6269\u5c55\u7528\u6cd5"},{depth:3,value:"\u5206\u9875",heading:"\u5206\u9875"},{depth:4,value:"usePagination",heading:"usepagination"},{depth:4,value:"API",heading:"api-1"},{depth:4,value:"Result",heading:"result-1"},{depth:4,value:"Params",heading:"params-1"},{depth:3,value:"\u52a0\u8f7d\u66f4\u591a",heading:"\u52a0\u8f7d\u66f4\u591a"},{depth:4,value:"useLoadMore",heading:"useloadmore"},{depth:4,value:"API",heading:"api-2"},{depth:4,value:"Result",heading:"result-2"},{depth:4,value:"Params",heading:"params-2"}]},title:"useAsync"},{path:"/other/use-client-rect",component:t("1XkV").default,exact:!0,meta:{filePath:"src/useClientRect/index.md",updatedTime:1600842931e3,title:"useClientRect",group:{title:"Other",path:"/other",order:4},legacy:"/other/use-client-rect",slugs:[{depth:1,value:"useClientRect",heading:"useclientrect"},{depth:2,value:"\u4ee3\u7801\u6f14\u793a",heading:"\u4ee3\u7801\u6f14\u793a"},{depth:3,value:"\u57fa\u672c\u7528\u6cd5",heading:"\u57fa\u672c\u7528\u6cd5"},{depth:2,value:"API",heading:"api"},{depth:3,value:"Result",heading:"result"}]},title:"useClientRect"},{path:"/side-effect/use-debounce",component:t("mGUu").default,exact:!0,meta:{filePath:"src/useDebounce/index.md",updatedTime:1600842931e3,title:"useDebounce",group:{title:"SideEffect",path:"/side-effect",order:2},legacy:"/side-effect/use-debounce",slugs:[{depth:1,value:"useDebounce",heading:"usedebounce"},{depth:2,value:"\u4ee3\u7801\u6f14\u793a",heading:"\u4ee3\u7801\u6f14\u793a"},{depth:3,value:"\u57fa\u672c\u7528\u6cd5",heading:"\u57fa\u672c\u7528\u6cd5"},{depth:2,value:"API",heading:"api"},{depth:3,value:"Params",heading:"params"}]},title:"useDebounce"},{path:"/side-effect/use-debounce-fn",component:t("oWl0").default,exact:!0,meta:{filePath:"src/useDebounceFn/index.md",updatedTime:1600842931e3,title:"useDebounceFn",group:{title:"SideEffect",path:"/side-effect"},legacy:"/side-effect/use-debounce-fn",slugs:[{depth:1,value:"useDebounceFn",heading:"usedebouncefn"},{depth:2,value:"\u4ee3\u7801\u6f14\u793a",heading:"\u4ee3\u7801\u6f14\u793a"},{depth:3,value:"\u57fa\u672c\u7528\u6cd5",heading:"\u57fa\u672c\u7528\u6cd5"},{depth:3,value:"\u5bf9\u6bd4",heading:"\u5bf9\u6bd4"},{depth:2,value:"API",heading:"api"},{depth:3,value:"Result",heading:"result"},{depth:3,value:"Params",heading:"params"}]},title:"useDebounceFn"},{path:"/life-cycle/use-mount",component:t("MX7n").default,exact:!0,meta:{filePath:"src/useMount/index.md",updatedTime:1600842931e3,title:"useMount",group:{title:"LifeCycle",path:"/life-cycle",order:3},legacy:"/life-cycle/use-mount",slugs:[{depth:1,value:"useMount",heading:"usemount"},{depth:2,value:"\u4ee3\u7801\u6f14\u793a",heading:"\u4ee3\u7801\u6f14\u793a"},{depth:3,value:"\u57fa\u672c\u7528\u6cd5",heading:"\u57fa\u672c\u7528\u6cd5"},{depth:2,value:"API",heading:"api"},{depth:3,value:"Params",heading:"params"}]},title:"useMount"},{path:"/other/use-persist-fn",component:t("k2Hj").default,exact:!0,meta:{filePath:"src/usePersistFn/index.md",updatedTime:1600842931e3,title:"usePersistFn",group:{title:"Other",path:"/other"},legacy:"/other/use-persist-fn",slugs:[{depth:1,value:"usePersistFn",heading:"usepersistfn"},{depth:2,value:"\u4ee3\u7801\u6f14\u793a",heading:"\u4ee3\u7801\u6f14\u793a"},{depth:3,value:"\u57fa\u672c\u7528\u6cd5",heading:"\u57fa\u672c\u7528\u6cd5"},{depth:2,value:"API",heading:"api"},{depth:3,value:"Result",heading:"result"},{depth:3,value:"Params",heading:"params"}]},title:"usePersistFn"},{path:"/other/use-previous",component:t("jc3t").default,exact:!0,meta:{filePath:"src/usePrevious/index.md",updatedTime:1600842931e3,title:"usePrevious",group:{title:"Other",path:"/other"},legacy:"/other/use-previous",slugs:[{depth:1,value:"usePrevious",heading:"useprevious"},{depth:2,value:"\u4ee3\u7801\u6f14\u793a",heading:"\u4ee3\u7801\u6f14\u793a"},{depth:3,value:"\u57fa\u672c\u7528\u6cd5",heading:"\u57fa\u672c\u7528\u6cd5"},{depth:2,value:"API",heading:"api"},{depth:3,value:"Result",heading:"result"},{depth:3,value:"Params",heading:"params"}]},title:"usePrevious"},{path:"/side-effect/use-throttle",component:t("Fas3").default,exact:!0,meta:{filePath:"src/useThrottle/index.md",updatedTime:1600842931e3,title:"useThrottle",group:{title:"SideEffect",path:"/side-effect"},legacy:"/side-effect/use-throttle",slugs:[{depth:1,value:"useThrottle",heading:"usethrottle"},{depth:2,value:"\u4ee3\u7801\u6f14\u793a",heading:"\u4ee3\u7801\u6f14\u793a"},{depth:3,value:"\u57fa\u672c\u7528\u6cd5",heading:"\u57fa\u672c\u7528\u6cd5"},{depth:2,value:"API",heading:"api"},{depth:3,value:"Params",heading:"params"}]},title:"useThrottle"},{path:"/side-effect/use-throttle-fn",component:t("GeNd").default,exact:!0,meta:{filePath:"src/useThrottleFn/index.md",updatedTime:1600842931e3,title:"useThrottleFn",group:{title:"SideEffect",path:"/side-effect"},legacy:"/side-effect/use-debounce-fn",slugs:[{depth:1,value:"useThrottleFn",heading:"usethrottlefn"},{depth:2,value:"\u4ee3\u7801\u6f14\u793a",heading:"\u4ee3\u7801\u6f14\u793a"},{depth:3,value:"\u57fa\u672c\u7528\u6cd5",heading:"\u57fa\u672c\u7528\u6cd5"},{depth:3,value:"\u5bf9\u6bd4",heading:"\u5bf9\u6bd4"},{depth:2,value:"API",heading:"api"},{depth:3,value:"Result",heading:"result"},{depth:3,value:"Params",heading:"params"}]},title:"useThrottleFn"},{path:"/life-cycle/use-unmount",component:t("ROAM").default,exact:!0,meta:{filePath:"src/useUnmount/index.md",updatedTime:1600842931e3,title:"useUnmount",group:{title:"LifeCycle",path:"/life-cycle"},legacy:"/life-cycle/use-unmount",slugs:[{depth:1,value:"useUnmount",heading:"useunmount"},{depth:2,value:"\u4ee3\u7801\u6f14\u793a",heading:"\u4ee3\u7801\u6f14\u793a"},{depth:3,value:"\u57fa\u672c\u7528\u6cd5",heading:"\u57fa\u672c\u7528\u6cd5"},{depth:2,value:"API",heading:"api"},{depth:3,value:"Params",heading:"params"}]},title:"useUnmount"},{path:"/life-cycle/use-update",component:t("Q53a").default,exact:!0,meta:{filePath:"src/useUpdate/index.md",updatedTime:1600842931e3,title:"useUpdate",group:{title:"LifeCycle",path:"/life-cycle"},legacy:"/life-cycle/use-update",slugs:[{depth:1,value:"useUpdate",heading:"useupdate"},{depth:2,value:"\u4ee3\u7801\u6f14\u793a",heading:"\u4ee3\u7801\u6f14\u793a"},{depth:3,value:"\u57fa\u672c\u7528\u6cd5",heading:"\u57fa\u672c\u7528\u6cd5"},{depth:2,value:"API",heading:"api"}]},title:"useUpdate"},{path:"/life-cycle/use-update-effect",component:t("4APQ").default,exact:!0,meta:{filePath:"src/useUpdateEffect/index.md",updatedTime:1600842931e3,title:"useUpdateEffect",group:{title:"LifeCycle",path:"/life-cycle"},legacy:"/life-cycle/use-update-effect",slugs:[{depth:1,value:"useUpdateEffect",heading:"useupdateeffect"},{depth:2,value:"\u4ee3\u7801\u6f14\u793a",heading:"\u4ee3\u7801\u6f14\u793a"},{depth:3,value:"\u57fa\u672c\u7528\u6cd5",heading:"\u57fa\u672c\u7528\u6cd5"},{depth:2,value:"API",heading:"api"},{depth:3,value:"Params",heading:"params"}]},title:"useUpdateEffect"},{path:"/life-cycle/use-update-layout-effect",component:t("uGUN").default,exact:!0,meta:{filePath:"src/useUpdateLayoutEffect/index.md",updatedTime:1600842931e3,title:"useUpdateLayoutEffect",group:{title:"LifeCycle",path:"/life-cycle"},legacy:"/life-cycle/use-update-layout-effect",slugs:[{depth:1,value:"useUpdateLayoutEffect",heading:"useupdatelayouteffect"},{depth:2,value:"\u4ee3\u7801\u6f14\u793a",heading:"\u4ee3\u7801\u6f14\u793a"},{depth:3,value:"\u57fa\u672c\u7528\u6cd5",heading:"\u57fa\u672c\u7528\u6cd5"},{depth:2,value:"API",heading:"api"},{depth:3,value:"Params",heading:"params"}]},title:"useUpdateLayoutEffect"},{path:"/async",meta:{order:1},exact:!0,redirect:"/async/use-async"},{path:"/async/use-async",exact:!0,redirect:"/async/use-async"},{path:"/other",meta:{order:4},exact:!0,redirect:"/other/use-client-rect"},{path:"/other/use-client-rect",exact:!0,redirect:"/other/use-client-rect"},{path:"/side-effect",meta:{order:2},exact:!0,redirect:"/side-effect/use-debounce"},{path:"/side-effect/use-debounce",exact:!0,redirect:"/side-effect/use-debounce"},{path:"/side-effect/use-debounce-fn",exact:!0,redirect:"/side-effect/use-throttle-fn"},{path:"/life-cycle",meta:{order:3},exact:!0,redirect:"/life-cycle/use-mount"},{path:"/life-cycle/use-mount",exact:!0,redirect:"/life-cycle/use-mount"},{path:"/other/use-persist-fn",exact:!0,redirect:"/other/use-persist-fn"},{path:"/other/use-previous",exact:!0,redirect:"/other/use-previous"},{path:"/side-effect/use-throttle",exact:!0,redirect:"/side-effect/use-throttle"},{path:"/life-cycle/use-unmount",exact:!0,redirect:"/life-cycle/use-unmount"},{path:"/life-cycle/use-update",exact:!0,redirect:"/life-cycle/use-update"},{path:"/life-cycle/use-update-effect",exact:!0,redirect:"/life-cycle/use-update-effect"},{path:"/life-cycle/use-update-layout-effect",exact:!0,redirect:"/life-cycle/use-update-layout-effect"}],title:"rc-hooks"}];return a["a"].applyPlugins({key:"patchRoutes",type:l["ApplyPluginsType"].event,args:{routes:e}}),e}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].applyPlugins({key:"render",type:l["ApplyPluginsType"].compose,initialValue:()=>{var n=a["a"].applyPlugins({key:"modifyClientRenderOpts",type:l["ApplyPluginsType"].modify,initialValue:{routes:e.routes||u(),plugin:a["a"],history:Object(r["a"])(e.hot),isServer:Object({NODE_ENV:"production"}).__IS_SERVER,rootElement:"root",defaultTitle:"rc-hooks"}});return Object(o["renderClient"])(n)},args:e})},i=s();n["default"]=i();window.g_umi={version:"3.2.22"}},tZ56:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=t("tJVT"),l=t("q1tI"),o=t.n(l),c=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Object(l["useRef"])(!1);Object(l["useLayoutEffect"])(()=>{if(t.current)return e();t.current=!0},n)},u=c;n["default"]=()=>{var e=Object(l["useState"])(0),n=Object(r["a"])(e,2),t=n[0],c=n[1],s=Object(l["useState"])(0),i=Object(r["a"])(s,2),d=i[0],m=i[1],p=Object(l["useState"])(0),f=Object(r["a"])(p,2),h=f[0],E=f[1];return Object(l["useLayoutEffect"])(()=>{m(e=>e+1)},[t]),u(()=>(E(e=>e+1),()=>{}),[t]),o.a.createElement("div",null,o.a.createElement("p",null,"layoutEffectCount: ",d),o.a.createElement("p",null,"updateLayoutEffectCount: ",h),o.a.createElement("p",null,o.a.createElement(a["a"],{type:"primary",onClick:()=>c(e=>e+1)},"reRender")))}},uGUN:function(e,n,t){"use strict";t.r(n);var a=t("0Owb"),r=t("q1tI"),l=t.n(r),o=(t("B2uJ"),t("+su7"),t("qOys")),c=t.n(o),u=t("5Yjd"),s=t.n(u),i=l.a.memo((function(){var e=t("K+nK"),n=e(t("q1tI")),a=e(t("tZ56")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"markdown"},l.a.createElement("h1",{id:"useupdatelayouteffect"},l.a.createElement("a",{"aria-hidden":"true",href:"#useupdatelayouteffect"},l.a.createElement("span",{className:"icon icon-link"})),"useUpdateLayoutEffect"),l.a.createElement("p",null,"\u53ea\u5728\u4f9d\u8d56\u66f4\u65b0\u65f6\u6267\u884c\u7684 useLayoutEffect Hook\u3002"),l.a.createElement("h2",{id:"\u4ee3\u7801\u6f14\u793a"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},l.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),l.a.createElement("h3",{id:"\u57fa\u672c\u7528\u6cd5"},l.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u672c\u7528\u6cd5"},l.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u7528\u6cd5")),l.a.createElement(s.a,Object(a["a"])({source:{tsx:"import { Button } from 'antd';\nimport React, { useLayoutEffect, useState } from 'react';\nimport { useUpdateLayoutEffect } from 'rc-hooks';\n\nexport default () => {\n  const [count, setCount] = useState(0);\n  const [layoutEffectCount, setLayoutEffectCount] = useState(0);\n  const [updateLayoutEffectCount, setUpdateLayoutEffectCount] = useState(0);\n\n  useLayoutEffect(() => {\n    setLayoutEffectCount(c => c + 1);\n  }, [count]);\n\n  useUpdateLayoutEffect(() => {\n    setUpdateLayoutEffectCount(c => c + 1);\n    return () => {\n      // do something\n    };\n  }, [count]); // you can include deps array if necessary\n\n  return (\n    <div>\n      <p>layoutEffectCount: {layoutEffectCount}</p>\n      <p>updateLayoutEffectCount: {updateLayoutEffectCount}</p>\n      <p>\n        <Button type=\"primary\" onClick={() => setCount(c => c + 1)}>\n          reRender\n        </Button>\n      </p>\n    </div>\n  );\n};",jsx:"import { Button } from 'antd';\nimport React, { useLayoutEffect, useState } from 'react';\nimport { useUpdateLayoutEffect } from 'rc-hooks';\nexport default () => {\n  const [count, setCount] = useState(0);\n  const [layoutEffectCount, setLayoutEffectCount] = useState(0);\n  const [updateLayoutEffectCount, setUpdateLayoutEffectCount] = useState(0);\n  useLayoutEffect(() => {\n    setLayoutEffectCount((c) => c + 1);\n  }, [count]);\n  useUpdateLayoutEffect(() => {\n    setUpdateLayoutEffectCount((c) => c + 1);\n    return () => {\n      // do something\n    };\n  }, [count]); // you can include deps array if necessary\n\n  return (\n    <div>\n      <p>layoutEffectCount: {layoutEffectCount}</p>\n      <p>updateLayoutEffectCount: {updateLayoutEffectCount}</p>\n      <p>\n        <Button type=\"primary\" onClick={() => setCount((c) => c + 1)}>\n          reRender\n        </Button>\n      </p>\n    </div>\n  );\n};\n"}},{path:"/_demos/demo1-10",title:"\u57fa\u672c\u7528\u6cd5",desc:'<div class="markdown"><p>\u4f7f\u7528\u4e0a\u4e0e useLayoutEffect \u5b8c\u5168\u76f8\u540c\uff0c\u53ea\u662f\u5b83\u5ffd\u7565\u4e86\u9996\u6b21\u6e32\u67d3\uff0c\u4e14\u53ea\u5728\u4f9d\u8d56\u9879\u66f4\u65b0\u65f6\u8fd0\u884c\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{antd:"4.1.0","rc-hooks":"0.8.2"},files:{}}),l.a.createElement(i,null)),l.a.createElement("div",{className:"markdown"},l.a.createElement("h2",{id:"api"},l.a.createElement("a",{"aria-hidden":"true",href:"#api"},l.a.createElement("span",{className:"icon icon-link"})),"API"),l.a.createElement(c.a,{code:"useUpdateLayoutEffect(fn: () => void, deps?: any[]);\n",lang:"javascript"}),l.a.createElement("h3",{id:"params"},l.a.createElement("a",{"aria-hidden":"true",href:"#params"},l.a.createElement("span",{className:"icon icon-link"})),"Params"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u53c2\u6570"),l.a.createElement("th",null,"\u8bf4\u660e"),l.a.createElement("th",null,"\u7c7b\u578b"),l.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"fn"),l.a.createElement("td",null,"\u53ef\u6267\u884c\u51fd\u6570"),l.a.createElement("td",null,l.a.createElement("code",null,"function")),l.a.createElement("td",null,"-")),l.a.createElement("tr",null,l.a.createElement("td",null,"deps"),l.a.createElement("td",null,"\u53ef\u9009\u9879\uff0c\u4f20\u5165\u4f9d\u8d56\u53d8\u5316\u7684\u5bf9\u8c61"),l.a.createElement("td",null,l.a.createElement("code",null,"any[]")),l.a.createElement("td",null))))))}},vu5i:function(e,n,t){"use strict";t.r(n);t("Mwp2");var a=t("VXEj"),r=(t("Telt"),t("Tckk")),l=(t("+L6B"),t("2/Rp")),o=t("q1tI"),c=t.n(o),u=t("0mqg"),s=t("y7Vn");n["default"]=()=>{var e=Object(o["useRef"])(null),n=Object(u["a"])(s["a"],{ref:e,autoRun:!1}),t=n.run,i=n.data,d=n.loading,m=n.loadingMore,p=n.reload,f=n.loadMore,h=n.done,E=n.pagination;Object(o["useEffect"])(()=>{t({a:1})},[]);var g=()=>c.a.createElement(c.a.Fragment,null,!h&&c.a.createElement(l["a"],{onClick:f,loading:m},m?"Loading more":"Click to load more"),h&&c.a.createElement("span",null,"No more data"),c.a.createElement("span",{style:{float:"right",fontSize:12}},"total: ",E.total));return c.a.createElement("div",{ref:e,style:{height:300,overflowY:"auto"}},c.a.createElement(a["a"],{header:c.a.createElement(l["a"],{onClick:p,loading:d},"Reload"),footer:g(),loading:d,bordered:!0,dataSource:i,renderItem:e=>c.a.createElement(a["a"].Item,null,c.a.createElement(a["a"].Item.Meta,{avatar:c.a.createElement(r["a"],{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:c.a.createElement("a",null,e.name),description:"rc-hooks is a react hooks library"}))}))}},"wiD+":function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=(t("5NDa"),t("5rEg")),l=(t("miYZ"),t("tsqr")),o=t("tJVT"),c=t("q1tI"),u=t.n(c),s=t("sZDl"),i=t("luuv"),d=t.n(i);function m(){return new Promise(e=>{setTimeout(()=>{e(d.a.mock("@name"))},1e3)})}function p(e){return console.log(e),new Promise(e=>{setTimeout(()=>{e({success:!0})},1e3)})}n["default"]=()=>{var e=Object(c["useState"])(""),n=Object(o["a"])(e,2),t=n[0],i=n[1],d=Object(s["a"])(m,{onSuccess:e=>{i(e)}}),f=d.data,h=d.mutate,E=Object(s["a"])(p,{autoRun:!1,onSuccess:(e,n)=>{e.success&&(h(n[0]),l["a"].success('The username was changed to "'.concat(n[0],'" !')))}}),g=E.loading,v=E.run;return u.a.createElement("div",null,u.a.createElement("p",null,"usrename: ",f),u.a.createElement(r["a"],{onChange:e=>i(e.target.value),value:t,placeholder:"Please enter username",style:{width:240,marginRight:16}}),u.a.createElement(a["a"],{onClick:()=>v(t),loading:g},"Edit"))}},x1Rt:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=(t("miYZ"),t("tsqr")),l=t("tJVT"),o=t("q1tI"),c=t.n(o),u=t("hmsE");n["default"]=()=>{var e=Object(o["useState"])(0),n=Object(l["a"])(e,2),t=n[0],i=n[1],d=Object(u["a"])(()=>{r["a"].info("Current count is ".concat(t))}),m=Object(o["useCallback"])(()=>{r["a"].info("Current count is ".concat(t))},[t]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(a["a"],{onClick:()=>{i(e=>e+1)}},"Add Count"),c.a.createElement("p",null,"You can click the button to see the number of sub-component renderings"),c.a.createElement("div",{style:{marginTop:32}},c.a.createElement("h4",null,"Component with persist function:"),c.a.createElement(s,{showCount:d})),c.a.createElement("div",{style:{marginTop:32}},c.a.createElement("h4",null,"Component without persist function:"),c.a.createElement(s,{showCount:m})))};var s=c.a.memo(e=>{var n=e.showCount,t=Object(o["useRef"])(0);return t.current+=1,c.a.createElement("div",null,c.a.createElement("p",null,"Render Count: ",t.current),c.a.createElement(a["a"],{onClick:n},"showParentCount"))})},xzsK:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=(t("T2oS"),t("W9HT")),l=(t("Mwp2"),t("VXEj")),o=(t("tU7J"),t("wFql")),c=t("q1tI"),u=t.n(c),s=t("0mqg"),i=t("y7Vn");n["default"]=()=>{var e=Object(s["a"])(i["a"],{defaultPageSize:5,autoRun:!1}),n=e.run,t=e.data,d=e.loading,m=e.loadingMore,p=e.done,f=e.loadMore;return Object(c["useEffect"])(()=>{n({someParams:1})},[]),u.a.createElement("div",null,u.a.createElement(r["a"],{spinning:d&&!m},u.a.createElement(l["a"],{dataSource:t,renderItem:e=>u.a.createElement(l["a"].Item,{key:e.id},u.a.createElement(o["a"].Text,{mark:!0},"[",e.id,"]")," ",e.name)})),u.a.createElement(a["a"],{onClick:f,loading:m,disabled:p},"click to load more"))}},y7Vn:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var a=t("PpiC"),r=t("luuv"),l=t.n(r),o=e=>{e.pageNum;var n=e.pageSize;Object(a["a"])(e,["pageNum","pageSize"]);return l.a.mock({["data|".concat(n)]:[{id:"@guid",name:"@cname","gender|1":["male","female"],email:"@email",disabled:!1}],total:25,errCode:"00",errMsg:""})};function c(e){var n=e.current,t=e.pageSize;return new Promise(e=>{setTimeout(()=>{e(o({pageNum:n,pageSize:t}))},1e3)})}},zTMO:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=(t("5NDa"),t("5rEg")),l=t("tJVT"),o=t("q1tI"),c=t.n(o),u=t("CZNa");n["default"]=()=>{var e=Object(o["useState"])(""),n=Object(l["a"])(e,2),t=n[0],s=n[1],i=Object(o["useState"])(),d=Object(l["a"])(i,2),m=d[0],p=d[1],f=Object(u["a"])(p,1e3),h=f.run,E=f.cancel;return c.a.createElement("div",null,c.a.createElement(r["a"],{value:t,onChange:e=>{s(e.target.value),h(e.target.value)},placeholder:"Typed value",style:{width:280}}),c.a.createElement("p",{style:{margin:"16px 0"}},c.a.createElement(a["a"],{onClick:E},"Cancel Throttle")),c.a.createElement("p",null,"value: ",t),c.a.createElement("p",null,"throttleValue: ",m))}}});